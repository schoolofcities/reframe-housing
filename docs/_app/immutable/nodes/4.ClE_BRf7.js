import{b as $i,d as Do,f as he,a as H,e as on,c as He,t as pr}from"../chunks/BZBKc7qX.js";import{a as Nl,c as Bo,b as Fo,o as zl}from"../chunks/CLWURBAf.js";import{m as fe,H as Rn,t as ni,g as b,U as Ho,I as qo,J as Vo,K as Wi,L as Or,M as Qt,n as ht,ab as Dl,az as $o,l as Kt,s as Wo,h as Tt,ax as Bl,y as ri,k as Zo,aC as ie,a9 as Zi,ai as jo,i as Fl,p as Uo,aG as Go,aH as dr,j as en,aI as Xo,aJ as Yo,at as Hl,aK as Qo,aw as Jo,aL as Ko,Y as ql,B as be,aM as ea,aA as ta,au as na,a3 as dn,N as lt,b as le,O as Vl,e as C,aN as ra,aO as ia,aP as la,ap as $l,aQ as sa,aR as oa,aS as aa,aT as ca,aU as ua,P as fa,aV as ha,aW as pa,aX as da,aY as ga,aZ as va,aE as Wl,a_ as ma,Q as ka,A as $n,a$ as j,b0 as Zl,D as W,F as Z,C as Wn,W as q,G as ee,v as xe,b1 as gn,b2 as ji,V as gr,aD as vr}from"../chunks/CSvwSxik.js";import{p as M,i as pe,b as mr}from"../chunks/CfUbbsSJ.js";import"../chunks/DrzdIHMs.js";import{i as ba,c as wa,d as xa,n as ya,a as _a,e as ce,s as Ct}from"../chunks/BjNzpZJn.js";import{i as ii}from"../chunks/Xh4bYxu1.js";function Ui(e,t){return t}function Sa(e,t,n){for(var r=e.items,i=[],l=t.length,s=0;s<l;s++)Qo(t[s].e,i,!0);var o=l>0&&i.length===0&&n!==null;if(o){var c=n.parentNode;Jo(c),c.append(n),r.clear(),qe(e,t[0].prev,t[l-1].next)}Ko(i,()=>{for(var f=0;f<l;f++){var a=t[f];o||(r.delete(a.k),qe(e,a.prev,a.next)),en(a.e,!o)}})}function Pr(e,t,n,r,i,l=null){var s=e,o={flags:t,items:new Map,first:null};fe&&Rn();var c=null,f=!1,a=new Map,h=Ho(()=>{var m=n();return ri(m)?m:m==null?[]:Bl(m)}),u,d;function p(){Ea(d,u,o,a,s,i,t,r,n),l!==null&&(u.length===0?c?Fl(c):c=Kt(()=>l(s)):c!==null&&Uo(c,()=>{c=null}))}ni(()=>{d??=ql,u=b(h);var m=u.length;if(f&&m===0)return;f=m===0;let w=!1;if(fe){var _=qo(s)===Vo;_!==(m===0)&&(s=Wi(),Or(s),Qt(!1),w=!0)}if(fe){for(var y=null,x,v=0;v<m;v++){if(ht.nodeType===Dl&&ht.data===$o){s=ht,w=!0,Qt(!1);break}var T=u[v],S=r(T,v);x=Mr(ht,o,y,null,T,S,v,i,t,n),o.items.set(S,x),y=x}m>0&&Or(Wi())}if(fe)m===0&&l&&(c=Kt(()=>l(s)));else if(Wo()){var A=new Set,g=Tt;for(v=0;v<m;v+=1){T=u[v],S=r(T,v);var I=o.items.get(S)??a.get(S);I?jl(I,T,v):(x=Mr(null,o,null,null,T,S,v,i,t,n,!0),a.set(S,x)),A.add(S)}for(const[L,O]of o.items)A.has(L)||g.skipped_effects.add(O.e);g.oncommit(p)}else p();w&&Qt(!0),b(h)}),fe&&(s=ht)}function Ea(e,t,n,r,i,l,s,o,c){var f=t.length,a=n.items,h=n.first,u=h,d,p=null,m=[],w=[],_,y,x,v;for(v=0;v<f;v+=1){if(_=t[v],y=o(_,v),x=a.get(y),x===void 0){var T=r.get(y);if(T!==void 0){r.delete(y),a.set(y,T);var S=p?p.next:u;qe(n,p,T),qe(n,T,S),kr(T,S,i),p=T}else{var A=u?u.e.nodes_start:i;p=Mr(A,n,p,p===null?n.first:p.next,_,y,v,l,s,c)}a.set(y,p),m=[],w=[],u=p.next;continue}if(jl(x,_,v),(x.e.f&dr)!==0&&Fl(x.e),x!==u){if(d!==void 0&&d.has(x)){if(m.length<w.length){var g=w[0],I;p=g.prev;var L=m[0],O=m[m.length-1];for(I=0;I<m.length;I+=1)kr(m[I],g,i);for(I=0;I<w.length;I+=1)d.delete(w[I]);qe(n,L.prev,O.next),qe(n,p,L),qe(n,O,g),u=g,p=O,v-=1,m=[],w=[]}else d.delete(x),kr(x,u,i),qe(n,x.prev,x.next),qe(n,x,p===null?n.first:p.next),qe(n,p,x),p=x;continue}for(m=[],w=[];u!==null&&u.k!==y;)(u.e.f&dr)===0&&(d??=new Set).add(u),w.push(u),u=u.next;if(u===null)continue;x=u}m.push(x),p=x,u=x.next}if(u!==null||d!==void 0){for(var $=d===void 0?[]:Bl(d);u!==null;)(u.e.f&dr)===0&&$.push(u),u=u.next;var B=$.length;if(B>0){var D=null;Sa(n,$,D)}}e.first=n.first&&n.first.e,e.last=p&&p.e;for(var E of r.values())en(E.e);r.clear()}function jl(e,t,n,r){jo(e.v,t),e.i=n}function Mr(e,t,n,r,i,l,s,o,c,f,a){var h=(c&Xo)!==0,u=(c&Yo)===0,d=h?u?ie(i,!1,!1):Zi(i):i,p=(c&Go)===0?s:Zi(s),m={i:p,v:d,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Zo())}return m.e=Kt(()=>o(e,d,p,f),fe),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?a||(t.first=m):(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function kr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var s=Hl(l);i.before(l),l=s}}function qe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function vn(e,t,n=!1,r=!1,i=!1){var l=e,s="";be(()=>{var o=ql;if(s===(s=t()??"")){fe&&Rn();return}if(o.nodes_start!==null&&(ea(o.nodes_start,o.nodes_end),o.nodes_start=o.nodes_end=null),s!==""){if(fe){ht.data;for(var c=Rn(),f=c;c!==null&&(c.nodeType!==Dl||c.data!=="");)f=c,c=Hl(c);if(c===null)throw ta(),na;$i(ht,f),l=Or(c);return}var a=s+"";n?a=`<svg>${a}</svg>`:r&&(a=`<math>${a}</math>`);var h=Do(a);if((n||r)&&(h=dn(h)),$i(dn(h),h.lastChild),n||r)for(;dn(h);)l.before(dn(h));else l.before(h)}})}function me(e,t,n,r,i){fe&&Rn();var l=t.$$slots?.[n],s=!1;l===!0&&(l=t[n==="default"?"children":n],s=!0),l===void 0?i!==null&&i(e):l(e,s?()=>r:r)}function Aa(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function mn(e,t,n){lt(()=>{var r=le(()=>t(e,n?.())||{});if(n&&r?.update){var i=!1,l={};Vl(()=>{var s=n();C(s),i&&ra(l,s)&&(l=s,r.update(s))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function Ra(e,t){var n=void 0,r;ni(()=>{n!==(n=t())&&(r&&(en(r),r=null),n&&(r=Kt(()=>{lt(()=>n(e))})))})}function Ul(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ul(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ta(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ul(e))&&(r&&(r+=" "),r+=t);return r}function Ca(e){return typeof e=="object"?Ta(e):e??""}const Gi=[...` 	
\r\fÂ \v\uFEFF`];function Ia(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var l=i.length,s=0;(s=r.indexOf(i,s))>=0;){var o=s+l;(s===0||Gi.includes(r[s-1]))&&(o===r.length||Gi.includes(r[o]))?r=(s===0?"":r.substring(0,s))+r.substring(o+1):s=o}}return r===""?null:r}function Xi(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var l=e[i];l!=null&&l!==""&&(r+=" "+i+": "+l+n)}return r}function br(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function La(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var l=!1,s=0,o=!1,c=[];r&&c.push(...Object.keys(r).map(br)),i&&c.push(...Object.keys(i).map(br));var f=0,a=-1;const m=e.length;for(var h=0;h<m;h++){var u=e[h];if(o?u==="/"&&e[h-1]==="*"&&(o=!1):l?l===u&&(l=!1):u==="/"&&e[h+1]==="*"?o=!0:u==='"'||u==="'"?l=u:u==="("?s++:u===")"&&s--,!o&&l===!1&&s===0){if(u===":"&&a===-1)a=h;else if(u===";"||h===m-1){if(a!==-1){var d=br(e.substring(f,a).trim());if(!c.includes(d)){u!==";"&&h++;var p=e.substring(f,h).trim();n+=" "+p+";"}}f=h+1,a=-1}}}}return r&&(n+=Xi(r)),i&&(n+=Xi(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function pt(e,t,n,r,i,l){var s=e.__className;if(fe||s!==n||s===void 0){var o=Ia(n,r,l);(!fe||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o)),e.__className=n}else if(l&&i!==l)for(var c in l){var f=!!l[c];(i==null||f!==!!i[c])&&e.classList.toggle(c,f)}return l}function wr(e,t={},n,r){for(var i in n){var l=n[i];t[i]!==l&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,l,r))}}function Gl(e,t,n,r){var i=e.__style;if(fe||i!==t){var l=La(t,r);(!fe||l!==e.getAttribute("style"))&&(l==null?e.removeAttribute("style"):e.style.cssText=l),e.__style=t}else r&&(Array.isArray(r)?(wr(e,n?.[0],r[0]),wr(e,n?.[1],r[1],"important")):wr(e,n,r));return r}function Nr(e,t,n=!1){if(e.multiple){if(t==null)return;if(!ri(t))return ia();for(var r of e.options)r.selected=t.includes(Yi(r));return}for(r of e.options){var i=Yi(r);if(la(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Oa(e){var t=new MutationObserver(()=>{Nr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),$l(()=>{t.disconnect()})}function Yi(e){return"__value"in e?e.__value:e.value}const kn=Symbol("class"),qt=Symbol("style"),Xl=Symbol("is custom element"),Yl=Symbol("is html");function Ql(e){if(fe){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;we(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;we(e,"checked",null),e.checked=i}}};e.__on_r=n,fa(n),ha()}}function Pa(e,t){var n=li(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ma(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function we(e,t,n,r){var i=li(e);fe&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[ua]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Jl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Na(e,t,n,r,i=!1,l=!1){if(fe&&i&&e.tagName==="INPUT"){var s=e,o=s.type==="checkbox"?"defaultChecked":"defaultValue";o in n||Ql(s)}var c=li(e),f=c[Xl],a=!c[Yl];let h=fe&&f;h&&Qt(!1);var u=t||{},d=e.tagName==="OPTION";for(var p in t)p in n||(n[p]=null);n.class?n.class=Ca(n.class):n.class=null,n[qt]&&(n.style??=null);var m=Jl(e);for(const S in n){let A=n[S];if(d&&S==="value"&&A==null){e.value=e.__value="",u[S]=A;continue}if(S==="class"){var w=e.namespaceURI==="http://www.w3.org/1999/xhtml";pt(e,w,A,r,t?.[kn],n[kn]),u[S]=A,u[kn]=n[kn];continue}if(S==="style"){Gl(e,A,t?.[qt],n[qt]),u[S]=A,u[qt]=n[qt];continue}var _=u[S];if(!(A===_&&!(A===void 0&&e.hasAttribute(S)))){u[S]=A;var y=S[0]+S[1];if(y!=="$$")if(y==="on"){const g={},I="$$"+S;let L=S.slice(2);var x=_a(L);if(ba(L)&&(L=L.slice(0,-7),g.capture=!0),!x&&_){if(A!=null)continue;e.removeEventListener(L,u[I],g),u[I]=null}if(A!=null)if(x)e[`__${L}`]=A,xa([L]);else{let O=function($){u[S].call(this,$)};u[I]=wa(L,e,O,g)}else x&&(e[`__${L}`]=void 0)}else if(S==="style")we(e,S,A);else if(S==="autofocus")aa(e,!!A);else if(!f&&(S==="__value"||S==="value"&&A!=null))e.value=e.__value=A;else if(S==="selected"&&d)Ma(e,A);else{var v=S;a||(v=ya(v));var T=v==="defaultValue"||v==="defaultChecked";if(A==null&&!f&&!T)if(c[S]=null,v==="value"||v==="checked"){let g=e;const I=t===void 0;if(v==="value"){let L=g.defaultValue;g.removeAttribute(v),g.defaultValue=L,g.value=g.__value=I?L:null}else{let L=g.defaultChecked;g.removeAttribute(v),g.defaultChecked=L,g.checked=I?L:!1}}else e.removeAttribute(S);else T||m.includes(v)&&(f||typeof A!="string")?(e[v]=A,v in c&&(c[v]=ca)):typeof A!="function"&&we(e,v,A)}}}return h&&Qt(!0),u}function za(e,t,n=[],r=[],i=[],l,s=!1,o=!1){sa(i,n,r,c=>{var f=void 0,a={},h=e.nodeName==="SELECT",u=!1;if(ni(()=>{var p=t(...c.map(b)),m=Na(e,f,p,l,s,o);u&&h&&"value"in p&&Nr(e,p.value);for(let _ of Object.getOwnPropertySymbols(a))p[_]||en(a[_]);for(let _ of Object.getOwnPropertySymbols(p)){var w=p[_];_.description===oa&&(!f||w!==f[_])&&(a[_]&&en(a[_]),a[_]=Kt(()=>Ra(e,()=>w))),m[_]=w}f=m}),h){var d=e;lt(()=>{Nr(d,f.value,!0),Oa(d)})}u=!0})}function li(e){return e.__attributes??={[Xl]:e.nodeName.includes("-"),[Yl]:e.namespaceURI===pa}}var Qi=new Map;function Jl(e){var t=e.getAttribute("is")||e.nodeName,n=Qi.get(t);if(n)return n;Qi.set(t,n=[]);for(var r,i=e,l=Element.prototype;l!==i;){r=ga(i);for(var s in r)r[s].set&&n.push(s);i=da(i)}return n}function Da(e,t,n=t){var r=new WeakSet;va(e,"input",async i=>{var l=i?e.defaultValue:e.value;if(l=xr(e)?yr(l):l,n(l),Tt!==null&&r.add(Tt),await Wl(),l!==(l=t())){var s=e.selectionStart,o=e.selectionEnd,c=e.value.length;if(e.value=l??"",o!==null){var f=e.value.length;s===o&&o===c&&f>c?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=s,e.selectionEnd=Math.min(o,f))}}}),(fe&&e.defaultValue!==e.value||le(t)==null&&e.value)&&(n(xr(e)?yr(e.value):e.value),Tt!==null&&r.add(Tt)),Vl(()=>{var i=t();if(e===document.activeElement){var l=ma??Tt;if(r.has(l))return}xr(e)&&i===yr(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function xr(e){var t=e.type;return t==="number"||t==="range"}function yr(e){return e===""?null:+e}function Ji(e,t,n){var r=ka(e,t);r&&r.set&&(e[t]=n,$l(()=>{e[t]=null}))}class si{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var i=this.#e.get(t);i.delete(n),i.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){si.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var Ba=new si({box:"border-box"});function Fa(e,t,n){var r=Ba.observe(e,()=>n(e[t]));lt(()=>(le(()=>n(e[t])),r))}function Rt(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function ft(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function bn(e,t){var n=e.$$events?.[t.type],r=ri(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,t)}const Ha=!0,Jf=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ha},Symbol.toStringTag,{value:"Module"}));var Ki={},_r={},Sr=34,Vt=10,Er=13;function Kl(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function qa(e,t){var n=Kl(e);return function(r,i){return t(n(r),i,e)}}function el(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ke(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Va(e){return e<0?"-"+ke(-e,6):e>9999?"+"+ke(e,6):ke(e,4)}function $a(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Va(e.getUTCFullYear())+"-"+ke(e.getUTCMonth()+1,2)+"-"+ke(e.getUTCDate(),2)+(i?"T"+ke(t,2)+":"+ke(n,2)+":"+ke(r,2)+"."+ke(i,3)+"Z":r?"T"+ke(t,2)+":"+ke(n,2)+":"+ke(r,2)+"Z":n||t?"T"+ke(t,2)+":"+ke(n,2)+"Z":"")}function Wa(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,u){var d,p,m=i(h,function(w,_){if(d)return d(w,_-1);p=w,d=u?qa(w,u):Kl(w)});return m.columns=p||[],m}function i(h,u){var d=[],p=h.length,m=0,w=0,_,y=p<=0,x=!1;h.charCodeAt(p-1)===Vt&&--p,h.charCodeAt(p-1)===Er&&--p;function v(){if(y)return _r;if(x)return x=!1,Ki;var S,A=m,g;if(h.charCodeAt(A)===Sr){for(;m++<p&&h.charCodeAt(m)!==Sr||h.charCodeAt(++m)===Sr;);return(S=m)>=p?y=!0:(g=h.charCodeAt(m++))===Vt?x=!0:g===Er&&(x=!0,h.charCodeAt(m)===Vt&&++m),h.slice(A+1,S-1).replace(/""/g,'"')}for(;m<p;){if((g=h.charCodeAt(S=m++))===Vt)x=!0;else if(g===Er)x=!0,h.charCodeAt(m)===Vt&&++m;else if(g!==n)continue;return h.slice(A,S)}return y=!0,h.slice(A,p)}for(;(_=v())!==_r;){for(var T=[];_!==Ki&&_!==_r;)T.push(_),_=v();u&&(T=u(T,w++))==null||d.push(T)}return d}function l(h,u){return h.map(function(d){return u.map(function(p){return a(d[p])}).join(e)})}function s(h,u){return u==null&&(u=el(h)),[u.map(a).join(e)].concat(l(h,u)).join(`
`)}function o(h,u){return u==null&&(u=el(h)),l(h,u).join(`
`)}function c(h){return h.map(f).join(`
`)}function f(h){return h.map(a).join(e)}function a(h){return h==null?"":h instanceof Date?$a(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:c,formatRow:f,formatValue:a}}var Za=Wa(","),ja=Za.parse;function Ua(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ga(e,t){return fetch(e,t).then(Ua)}function Xa(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ga(t,n).then(function(i){return e(i,r)})}}var Ya=Xa(ja);function Qa(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Ja(e,t){return fetch(e,t).then(Qa)}class gt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const l=n[i],s=t+l,o=Math.abs(t)<Math.abs(l)?t-(s-l):l-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,l,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,l=i-(s-r),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(i=l*2,r=s+i,i==r-s&&(s=r))}return s}}function*Ka(e){for(const t of e)yield*t}function es(e){return Array.from(Ka(e))}var K=1e-6,U=Math.PI,Te=U/2,tl=U/4,Ie=U*2,Je=180/U,ye=U/180,re=Math.abs,ec=Math.atan,tn=Math.atan2,oe=Math.cos,ae=Math.sin,tc=Math.sign||function(e){return e>0?1:e<0?-1:0},wt=Math.sqrt;function nc(e){return e>1?0:e<-1?U:Math.acos(e)}function nn(e){return e>1?Te:e<-1?-Te:Math.asin(e)}function Ce(){}function Tn(e,t){e&&rl.hasOwnProperty(e.type)&&rl[e.type](e,t)}var nl={Feature:function(e,t){Tn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Tn(n[r].geometry,t)}},rl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){zr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)zr(n[r],t,0)},Polygon:function(e,t){il(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)il(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Tn(n[r],t)}};function zr(e,t,n){var r=-1,i=e.length-n,l;for(t.lineStart();++r<i;)l=e[r],t.point(l[0],l[1],l[2]);t.lineEnd()}function il(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)zr(e[n],t,1);t.polygonEnd()}function It(e,t){e&&nl.hasOwnProperty(e.type)?nl[e.type](e,t):Tn(e,t)}function Dr(e){return[tn(e[1],e[0]),nn(e[2])]}function Pt(e){var t=e[0],n=e[1],r=oe(n);return[r*oe(t),r*ae(t),ae(n)]}function wn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Cn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ar(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Br(e){var t=wt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Fr(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Hr(e,t){return re(e)>U&&(e-=Math.round(e/Ie)*Ie),[e,t]}Hr.invert=Hr;function rc(e,t,n){return(e%=Ie)?t||n?Fr(sl(e),ol(t,n)):sl(e):t||n?ol(t,n):Hr}function ll(e){return function(t,n){return t+=e,re(t)>U&&(t-=Math.round(t/Ie)*Ie),[t,n]}}function sl(e){var t=ll(e);return t.invert=ll(-e),t}function ol(e,t){var n=oe(e),r=ae(e),i=oe(t),l=ae(t);function s(o,c){var f=oe(c),a=oe(o)*f,h=ae(o)*f,u=ae(c),d=u*n+a*r;return[tn(h*i-d*l,a*n-u*r),nn(d*i+h*l)]}return s.invert=function(o,c){var f=oe(c),a=oe(o)*f,h=ae(o)*f,u=ae(c),d=u*i-h*l;return[tn(h*i+u*l,a*n+d*r),nn(d*n-a*r)]},s}function ic(e,t,n,r,i,l){if(n){var s=oe(t),o=ae(t),c=r*n;i==null?(i=t+r*Ie,l=t-c/2):(i=al(s,i),l=al(s,l),(r>0?i<l:i>l)&&(i+=r*Ie));for(var f,a=i;r>0?a>l:a<l;a-=c)f=Dr([s,-o*oe(a),-o*ae(a)]),e.point(f[0],f[1])}}function al(e,t){t=Pt(t),t[0]-=e,Br(t);var n=nc(-t[1]);return((-t[2]<0?-n:n)+Ie-K)%Ie}function ts(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ce,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function An(e,t){return re(e[0]-t[0])<K&&re(e[1]-t[1])<K}function yn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ns(e,t,n,r,i){var l=[],s=[],o,c;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,w=p[0],_=p[m],y;if(An(w,_)){if(!w[2]&&!_[2]){for(i.lineStart(),o=0;o<m;++o)i.point((w=p[o])[0],w[1]);i.lineEnd();return}_[0]+=2*K}l.push(y=new yn(w,p,null,!0)),s.push(y.o=new yn(w,null,y,!1)),l.push(y=new yn(_,p,null,!1)),s.push(y.o=new yn(_,null,y,!0))}}),!!l.length){for(s.sort(t),cl(l),cl(s),o=0,c=s.length;o<c;++o)s[o].e=n=!n;for(var f=l[0],a,h;;){for(var u=f,d=!0;u.v;)if((u=u.n)===f)return;a=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(d)for(o=0,c=a.length;o<c;++o)i.point((h=a[o])[0],h[1]);else r(u.x,u.n.x,1,i);u=u.n}else{if(d)for(a=u.p.z,o=a.length-1;o>=0;--o)i.point((h=a[o])[0],h[1]);else r(u.x,u.p.x,-1,i);u=u.p}u=u.o,a=u.z,d=!d}while(!u.v);i.lineEnd()}}}function cl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Rr(e){return re(e[0])<=U?e[0]:tc(e[0])*((re(e[0])+U)%Ie-U)}function lc(e,t){var n=Rr(t),r=t[1],i=ae(r),l=[ae(n),-oe(n),0],s=0,o=0,c=new gt;i===1?r=Te+K:i===-1&&(r=-Te-K);for(var f=0,a=e.length;f<a;++f)if(u=(h=e[f]).length)for(var h,u,d=h[u-1],p=Rr(d),m=d[1]/2+tl,w=ae(m),_=oe(m),y=0;y<u;++y,p=v,w=S,_=A,d=x){var x=h[y],v=Rr(x),T=x[1]/2+tl,S=ae(T),A=oe(T),g=v-p,I=g>=0?1:-1,L=I*g,O=L>U,$=w*S;if(c.add(tn($*I*ae(L),_*A+$*oe(L))),s+=O?g+I*Ie:g,O^p>=n^v>=n){var B=Cn(Pt(d),Pt(x));Br(B);var D=Cn(l,B);Br(D);var E=(O^g>=0?-1:1)*nn(D[2]);(r>E||r===E&&(B[0]||B[1]))&&(o+=O^g>=0?1:-1)}}return(s<-K||s<K&&c<-1e-12)^o&1}function rs(e,t,n,r){return function(i){var l=t(i),s=ts(),o=t(s),c=!1,f,a,h,u={point:d,lineStart:m,lineEnd:w,polygonStart:function(){u.point=_,u.lineStart=y,u.lineEnd=x,a=[],f=[]},polygonEnd:function(){u.point=d,u.lineStart=m,u.lineEnd=w,a=es(a);var v=lc(f,r);a.length?(c||(i.polygonStart(),c=!0),ns(a,oc,v,n,i)):v&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(v,T){e(v,T)&&i.point(v,T)}function p(v,T){l.point(v,T)}function m(){u.point=p,l.lineStart()}function w(){u.point=d,l.lineEnd()}function _(v,T){h.push([v,T]),o.point(v,T)}function y(){o.lineStart(),h=[]}function x(){_(h[0][0],h[0][1]),o.lineEnd();var v=o.clean(),T=s.result(),S,A=T.length,g,I,L;if(h.pop(),f.push(h),h=null,!!A){if(v&1){if(I=T[0],(g=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),S=0;S<g;++S)i.point((L=I[S])[0],L[1]);i.lineEnd()}return}A>1&&v&2&&T.push(T.pop().concat(T.shift())),a.push(T.filter(sc))}}return u}}function sc(e){return e.length>1}function oc(e,t){return((e=e.x)[0]<0?e[1]-Te-K:Te-e[1])-((t=t.x)[0]<0?t[1]-Te-K:Te-t[1])}const ul=rs(function(){return!0},ac,uc,[-U,-Te]);function ac(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(l,s){var o=l>0?U:-U,c=re(l-t);re(c-U)<K?(e.point(t,n=(n+s)/2>0?Te:-Te),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(l,n),i=0):r!==o&&c>=U&&(re(t-r)<K&&(t-=r*K),re(l-o)<K&&(l-=o*K),n=cc(t,n,l,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=l,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function cc(e,t,n,r){var i,l,s=ae(e-n);return re(s)>K?ec((ae(t)*(l=oe(r))*ae(n)-ae(r)*(i=oe(t))*ae(e))/(i*l*s)):(t+r)/2}function uc(e,t,n,r){var i;if(e==null)i=n*Te,r.point(-U,i),r.point(0,i),r.point(U,i),r.point(U,0),r.point(U,-i),r.point(0,-i),r.point(-U,-i),r.point(-U,0),r.point(-U,i);else if(re(e[0]-t[0])>K){var l=e[0]<t[0]?U:-U;i=n*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}function fc(e){var t=oe(e),n=2*ye,r=t>0,i=re(t)>K;function l(a,h,u,d){ic(d,e,n,u,a,h)}function s(a,h){return oe(a)*oe(h)>t}function o(a){var h,u,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(w,_){var y=[w,_],x,v=s(w,_),T=r?v?0:f(w,_):v?f(w+(w<0?U:-U),_):0;if(!h&&(p=d=v)&&a.lineStart(),v!==d&&(x=c(h,y),(!x||An(h,x)||An(y,x))&&(y[2]=1)),v!==d)m=0,v?(a.lineStart(),x=c(y,h),a.point(x[0],x[1])):(x=c(h,y),a.point(x[0],x[1],2),a.lineEnd()),h=x;else if(i&&h&&r^v){var S;!(T&u)&&(S=c(y,h,!0))&&(m=0,r?(a.lineStart(),a.point(S[0][0],S[0][1]),a.point(S[1][0],S[1][1]),a.lineEnd()):(a.point(S[1][0],S[1][1]),a.lineEnd(),a.lineStart(),a.point(S[0][0],S[0][1],3)))}v&&(!h||!An(h,y))&&a.point(y[0],y[1]),h=y,d=v,u=T},lineEnd:function(){d&&a.lineEnd(),h=null},clean:function(){return m|(p&&d)<<1}}}function c(a,h,u){var d=Pt(a),p=Pt(h),m=[1,0,0],w=Cn(d,p),_=wn(w,w),y=w[0],x=_-y*y;if(!x)return!u&&a;var v=t*_/x,T=-t*y/x,S=Cn(m,w),A=xn(m,v),g=xn(w,T);Ar(A,g);var I=S,L=wn(A,I),O=wn(I,I),$=L*L-O*(wn(A,A)-1);if(!($<0)){var B=wt($),D=xn(I,(-L-B)/O);if(Ar(D,A),D=Dr(D),!u)return D;var E=a[0],z=h[0],Y=a[1],P=h[1],Q;z<E&&(Q=E,E=z,z=Q);var Ue=z-E,Le=re(Ue-U)<K,Be=Le||Ue<K;if(!Le&&P<Y&&(Q=Y,Y=P,P=Q),Be?Le?Y+P>0^D[1]<(re(D[0]-E)<K?Y:P):Y<=D[1]&&D[1]<=P:Ue>U^(E<=D[0]&&D[0]<=z)){var Se=xn(I,(-L+B)/O);return Ar(Se,A),[D,Dr(Se)]}}}function f(a,h){var u=r?e:U-e,d=0;return a<-u?d|=1:a>u&&(d|=2),h<-u?d|=4:h>u&&(d|=8),d}return rs(s,o,l,r?[0,-e]:[-U,e-U])}function hc(e,t,n,r,i,l){var s=e[0],o=e[1],c=t[0],f=t[1],a=0,h=1,u=c-s,d=f-o,p;if(p=n-s,!(!u&&p>0)){if(p/=u,u<0){if(p<a)return;p<h&&(h=p)}else if(u>0){if(p>h)return;p>a&&(a=p)}if(p=i-s,!(!u&&p<0)){if(p/=u,u<0){if(p>h)return;p>a&&(a=p)}else if(u>0){if(p<a)return;p<h&&(h=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<a)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>a&&(a=p)}if(p=l-o,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>a&&(a=p)}else if(d>0){if(p<a)return;p<h&&(h=p)}return a>0&&(e[0]=s+a*u,e[1]=o+a*d),h<1&&(t[0]=s+h*u,t[1]=o+h*d),!0}}}}}var Zt=1e9,_n=-Zt;function pc(e,t,n,r){function i(f,a){return e<=f&&f<=n&&t<=a&&a<=r}function l(f,a,h,u){var d=0,p=0;if(f==null||(d=s(f,h))!==(p=s(a,h))||c(f,a)<0^h>0)do u.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==p);else u.point(a[0],a[1])}function s(f,a){return re(f[0]-e)<K?a>0?0:3:re(f[0]-n)<K?a>0?2:1:re(f[1]-t)<K?a>0?1:0:a>0?3:2}function o(f,a){return c(f.x,a.x)}function c(f,a){var h=s(f,1),u=s(a,1);return h!==u?h-u:h===0?a[1]-f[1]:h===1?f[0]-a[0]:h===2?f[1]-a[1]:a[0]-f[0]}return function(f){var a=f,h=ts(),u,d,p,m,w,_,y,x,v,T,S,A={point:g,lineStart:$,lineEnd:B,polygonStart:L,polygonEnd:O};function g(E,z){i(E,z)&&a.point(E,z)}function I(){for(var E=0,z=0,Y=d.length;z<Y;++z)for(var P=d[z],Q=1,Ue=P.length,Le=P[0],Be,Se,yt=Le[0],tt=Le[1];Q<Ue;++Q)Be=yt,Se=tt,Le=P[Q],yt=Le[0],tt=Le[1],Se<=r?tt>r&&(yt-Be)*(r-Se)>(tt-Se)*(e-Be)&&++E:tt<=r&&(yt-Be)*(r-Se)<(tt-Se)*(e-Be)&&--E;return E}function L(){a=h,u=[],d=[],S=!0}function O(){var E=I(),z=S&&E,Y=(u=es(u)).length;(z||Y)&&(f.polygonStart(),z&&(f.lineStart(),l(null,null,1,f),f.lineEnd()),Y&&ns(u,o,E,l,f),f.polygonEnd()),a=f,u=d=p=null}function $(){A.point=D,d&&d.push(p=[]),T=!0,v=!1,y=x=NaN}function B(){u&&(D(m,w),_&&v&&h.rejoin(),u.push(h.result())),A.point=g,v&&a.lineEnd()}function D(E,z){var Y=i(E,z);if(d&&p.push([E,z]),T)m=E,w=z,_=Y,T=!1,Y&&(a.lineStart(),a.point(E,z));else if(Y&&v)a.point(E,z);else{var P=[y=Math.max(_n,Math.min(Zt,y)),x=Math.max(_n,Math.min(Zt,x))],Q=[E=Math.max(_n,Math.min(Zt,E)),z=Math.max(_n,Math.min(Zt,z))];hc(P,Q,e,t,n,r)?(v||(a.lineStart(),a.point(P[0],P[1])),a.point(Q[0],Q[1]),Y||a.lineEnd(),S=!1):Y&&(a.lineStart(),a.point(E,z),S=!1)}y=E,x=z,v=Y}return A}}const qr=e=>e;var Tr=new gt,Vr=new gt,is,ls,$r,Wr,et={point:Ce,lineStart:Ce,lineEnd:Ce,polygonStart:function(){et.lineStart=dc,et.lineEnd=vc},polygonEnd:function(){et.lineStart=et.lineEnd=et.point=Ce,Tr.add(re(Vr)),Vr=new gt},result:function(){var e=Tr/2;return Tr=new gt,e}};function dc(){et.point=gc}function gc(e,t){et.point=ss,is=$r=e,ls=Wr=t}function ss(e,t){Vr.add(Wr*e-$r*t),$r=e,Wr=t}function vc(){ss(is,ls)}var Mt=1/0,In=Mt,rn=-Mt,Ln=rn,On={point:mc,lineStart:Ce,lineEnd:Ce,polygonStart:Ce,polygonEnd:Ce,result:function(){var e=[[Mt,In],[rn,Ln]];return rn=Ln=-(In=Mt=1/0),e}};function mc(e,t){e<Mt&&(Mt=e),e>rn&&(rn=e),t<In&&(In=t),t>Ln&&(Ln=t)}var Zr=0,jr=0,jt=0,Pn=0,Mn=0,Lt=0,Ur=0,Gr=0,Ut=0,os,as,Ve,$e,Re={point:vt,lineStart:fl,lineEnd:hl,polygonStart:function(){Re.lineStart=wc,Re.lineEnd=xc},polygonEnd:function(){Re.point=vt,Re.lineStart=fl,Re.lineEnd=hl},result:function(){var e=Ut?[Ur/Ut,Gr/Ut]:Lt?[Pn/Lt,Mn/Lt]:jt?[Zr/jt,jr/jt]:[NaN,NaN];return Zr=jr=jt=Pn=Mn=Lt=Ur=Gr=Ut=0,e}};function vt(e,t){Zr+=e,jr+=t,++jt}function fl(){Re.point=kc}function kc(e,t){Re.point=bc,vt(Ve=e,$e=t)}function bc(e,t){var n=e-Ve,r=t-$e,i=wt(n*n+r*r);Pn+=i*(Ve+e)/2,Mn+=i*($e+t)/2,Lt+=i,vt(Ve=e,$e=t)}function hl(){Re.point=vt}function wc(){Re.point=yc}function xc(){cs(os,as)}function yc(e,t){Re.point=cs,vt(os=Ve=e,as=$e=t)}function cs(e,t){var n=e-Ve,r=t-$e,i=wt(n*n+r*r);Pn+=i*(Ve+e)/2,Mn+=i*($e+t)/2,Lt+=i,i=$e*e-Ve*t,Ur+=i*(Ve+e),Gr+=i*($e+t),Ut+=i*3,vt(Ve=e,$e=t)}function us(e){this._context=e}us.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ie);break}}},result:Ce};var Xr=new gt,Cr,fs,hs,Gt,Xt,ln={point:Ce,lineStart:function(){ln.point=_c},lineEnd:function(){Cr&&ps(fs,hs),ln.point=Ce},polygonStart:function(){Cr=!0},polygonEnd:function(){Cr=null},result:function(){var e=+Xr;return Xr=new gt,e}};function _c(e,t){ln.point=ps,fs=Gt=e,hs=Xt=t}function ps(e,t){Gt-=e,Xt-=t,Xr.add(wt(Gt*Gt+Xt*Xt)),Gt=e,Xt=t}let pl,Nn,dl,gl;class vl{constructor(t){this._append=t==null?ds:Sc(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==dl||this._append!==Nn){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,dl=r,Nn=this._append,gl=this._,this._=i}this._+=gl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ds(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Sc(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return ds;if(t!==pl){const n=10**t;pl=t,Nn=function(i){let l=1;this._+=i[0];for(const s=i.length;l<s;++l)this._+=Math.round(arguments[l]*n)/n+i[l]}}return Nn}function ml(e,t){let n=3,r=4.5,i,l;function s(o){return o&&(typeof r=="function"&&l.pointRadius(+r.apply(this,arguments)),It(o,i(l))),l.result()}return s.area=function(o){return It(o,i(et)),et.result()},s.measure=function(o){return It(o,i(ln)),ln.result()},s.bounds=function(o){return It(o,i(On)),On.result()},s.centroid=function(o){return It(o,i(Re)),Re.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,qr):(e=o).stream,s):e},s.context=function(o){return arguments.length?(l=o==null?(t=null,new vl(n)):new us(t=o),typeof r!="function"&&l.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(l.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const c=Math.floor(o);if(!(c>=0))throw new RangeError(`invalid digits: ${o}`);n=c}return t===null&&(l=new vl(n)),s},s.projection(e).digits(n).context(t)}function oi(e){return function(t){var n=new Yr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Yr(){}Yr.prototype={constructor:Yr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ai(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),It(n,e.stream(On)),t(On.result()),r!=null&&e.clipExtent(r),e}function gs(e,t,n){return ai(e,function(r){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),l/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(l-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,c])},n)}function Ec(e,t,n){return gs(e,[[0,0],t],n)}function Ac(e,t,n){return ai(e,function(r){var i=+t,l=i/(r[1][0]-r[0][0]),s=(i-l*(r[1][0]+r[0][0]))/2,o=-l*r[0][1];e.scale(150*l).translate([s,o])},n)}function Rc(e,t,n){return ai(e,function(r){var i=+t,l=i/(r[1][1]-r[0][1]),s=-l*r[0][0],o=(i-l*(r[1][1]+r[0][1]))/2;e.scale(150*l).translate([s,o])},n)}var kl=16,Tc=oe(30*ye);function bl(e,t){return+t?Ic(e,t):Cc(e)}function Cc(e){return oi({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Ic(e,t){function n(r,i,l,s,o,c,f,a,h,u,d,p,m,w){var _=f-r,y=a-i,x=_*_+y*y;if(x>4*t&&m--){var v=s+u,T=o+d,S=c+p,A=wt(v*v+T*T+S*S),g=nn(S/=A),I=re(re(S)-1)<K||re(l-h)<K?(l+h)/2:tn(T,v),L=e(I,g),O=L[0],$=L[1],B=O-r,D=$-i,E=y*B-_*D;(E*E/x>t||re((_*B+y*D)/x-.5)>.3||s*u+o*d+c*p<Tc)&&(n(r,i,l,s,o,c,O,$,I,v/=A,T/=A,S,m,w),w.point(O,$),n(O,$,I,v,T,S,f,a,h,u,d,p,m,w))}}return function(r){var i,l,s,o,c,f,a,h,u,d,p,m,w={point:_,lineStart:y,lineEnd:v,polygonStart:function(){r.polygonStart(),w.lineStart=T},polygonEnd:function(){r.polygonEnd(),w.lineStart=y}};function _(g,I){g=e(g,I),r.point(g[0],g[1])}function y(){h=NaN,w.point=x,r.lineStart()}function x(g,I){var L=Pt([g,I]),O=e(g,I);n(h,u,a,d,p,m,h=O[0],u=O[1],a=g,d=L[0],p=L[1],m=L[2],kl,r),r.point(h,u)}function v(){w.point=_,r.lineEnd()}function T(){y(),w.point=S,w.lineEnd=A}function S(g,I){x(i=g,I),l=h,s=u,o=d,c=p,f=m,w.point=x}function A(){n(h,u,a,d,p,m,l,s,i,o,c,f,kl,r),w.lineEnd=v,v()}return w}}var Lc=oi({point:function(e,t){this.stream.point(e*ye,t*ye)}});function Oc(e){return oi({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Pc(e,t,n,r,i){function l(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return l.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},l}function wl(e,t,n,r,i,l){if(!l)return Pc(e,t,n,r,i);var s=oe(l),o=ae(l),c=s*e,f=o*e,a=s/e,h=o/e,u=(o*n-s*t)/e,d=(o*t+s*n)/e;function p(m,w){return m*=r,w*=i,[c*m-f*w+t,n-f*m-c*w]}return p.invert=function(m,w){return[r*(a*m-h*w+u),i*(d-h*m-a*w)]},p}function Mc(e){return Nc(function(){return e})()}function Nc(e){var t,n=150,r=480,i=250,l=0,s=0,o=0,c=0,f=0,a,h=0,u=1,d=1,p=null,m=ul,w=null,_,y,x,v=qr,T=.5,S,A,g,I,L;function O(E){return g(E[0]*ye,E[1]*ye)}function $(E){return E=g.invert(E[0],E[1]),E&&[E[0]*Je,E[1]*Je]}O.stream=function(E){return I&&L===E?I:I=Lc(Oc(a)(m(S(v(L=E)))))},O.preclip=function(E){return arguments.length?(m=E,p=void 0,D()):m},O.postclip=function(E){return arguments.length?(v=E,w=_=y=x=null,D()):v},O.clipAngle=function(E){return arguments.length?(m=+E?fc(p=E*ye):(p=null,ul),D()):p*Je},O.clipExtent=function(E){return arguments.length?(v=E==null?(w=_=y=x=null,qr):pc(w=+E[0][0],_=+E[0][1],y=+E[1][0],x=+E[1][1]),D()):w==null?null:[[w,_],[y,x]]},O.scale=function(E){return arguments.length?(n=+E,B()):n},O.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],B()):[r,i]},O.center=function(E){return arguments.length?(l=E[0]%360*ye,s=E[1]%360*ye,B()):[l*Je,s*Je]},O.rotate=function(E){return arguments.length?(o=E[0]%360*ye,c=E[1]%360*ye,f=E.length>2?E[2]%360*ye:0,B()):[o*Je,c*Je,f*Je]},O.angle=function(E){return arguments.length?(h=E%360*ye,B()):h*Je},O.reflectX=function(E){return arguments.length?(u=E?-1:1,B()):u<0},O.reflectY=function(E){return arguments.length?(d=E?-1:1,B()):d<0},O.precision=function(E){return arguments.length?(S=bl(A,T=E*E),D()):wt(T)},O.fitExtent=function(E,z){return gs(O,E,z)},O.fitSize=function(E,z){return Ec(O,E,z)},O.fitWidth=function(E,z){return Ac(O,E,z)},O.fitHeight=function(E,z){return Rc(O,E,z)};function B(){var E=wl(n,0,0,u,d,h).apply(null,t(l,s)),z=wl(n,r-E[0],i-E[1],u,d,h);return a=rc(o,c,f),A=Fr(t,z),g=Fr(a,A),S=bl(A,T),D()}function D(){return I=L=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&$,B()}}function vs(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}vs.invert=function(e,t){var n=t,r=25,i;do{var l=n*n,s=l*l;n-=i=(n*(1.007226+l*(.015085+s*(-.044475+.028874*l-.005916*s)))-t)/(1.007226+l*(.015085*3+s*(-.044475*7+.028874*9*l-.005916*11*s)))}while(re(i)>K&&--r>0);return[e/(.8707+(l=n*n)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),n]};function zc(){return Mc(vs).scale(175.295)}var Dc=on("<path></path>"),Bc=on('<svg><path id="water" class="svelte-svy6vc"></path><!><text class="svelte-svy6vc">Map data:</text><text class="svelte-svy6vc">Natural Earth</text></svg>'),Fc=he('<div id="mapcontainer" class="svelte-svy6vc"><!></div>');function Hc(e,t){$n(t,!1);const n=ie();let r=M(t,"mapData",8),i=M(t,"selectedCountry",12),l=M(t,"countriesList",8),s=ie(),o=ie(),c=ie(),f=ie(null);function a(w){l().includes(w)&&i(w)}function h(w){l().includes(w)&&w!==i()&&q(f,w)}function u(w){b(f)===w&&q(f,null)}j(()=>b(s),()=>{q(n,b(s)*.5)}),j(()=>(C(r()),b(o),b(s),b(n),ml),()=>{r()&&r().features&&(q(o,zc().fitExtent([[10,10],[b(s)-10,b(n)-10]],r())),q(c,ml(b(o))))}),Zl(),ii();var d=Fc(),p=W(d);{var m=w=>{var _=Bc(),y=W(_),x=ee(y);Pr(x,1,()=>(C(r()),le(()=>r().features)),S=>S.properties.NAME_EN,(S,A)=>{var g=Dc();let I;be((L,O,$)=>{we(g,"d",L),we(g,"id",O),I=pt(g,0,"svelte-svy6vc",null,I,$)},[()=>(b(c),b(A),le(()=>b(c)(b(A)))),()=>(b(A),le(()=>b(A).properties.NAME_EN.replaceAll(" ","-"))),()=>({country:!0,clickable:l().includes(b(A).properties.NAME_EN),selected:i()?.value===b(A).properties.NAME_EN,hovered:b(f)===b(A).properties.NAME_EN})]),ce("click",g,()=>a(b(A).properties.NAME_EN)),ce("mouseenter",g,()=>h(b(A).properties.NAME_EN)),ce("mouseleave",g,()=>u(b(A).properties.NAME_EN)),H(S,g)});var v=ee(x);we(v,"x",7);var T=ee(v);we(T,"x",7),Z(_),be(S=>{we(_,"width",b(s)),we(_,"height",b(n)),we(y,"d",S),we(v,"y",b(n)-23),we(T,"y",b(n)-10)},[()=>(b(c),le(()=>b(c)({type:"Sphere"})))]),H(w,_)};pe(p,w=>{C(r()),b(s),le(()=>r()&&r().features&&b(s))&&w(m)})}Z(d),Fa(d,"clientWidth",w=>q(s,w)),H(e,d),Wn()}function ci(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var xt=ci();function ms(e){xt=e}var Jt={exec:()=>null};function G(e,t=""){let n=typeof e=="string"?e:e.source,r={replace:(i,l)=>{let s=typeof l=="string"?l:l.source;return s=s.replace(ve.caret,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}var qc=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),ve={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Vc=/^(?:[ \t]*(?:\n|$))+/,$c=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Wc=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,an=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Zc=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ui=/(?:[*+-]|\d{1,9}[.)])/,ks=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,bs=G(ks).replace(/bull/g,ui).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jc=G(ks).replace(/bull/g,ui).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),fi=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Uc=/^[^\n]+/,hi=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Gc=G(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",hi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Xc=G(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ui).getRegex(),Zn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pi=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Yc=G("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",pi).replace("tag",Zn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ws=G(fi).replace("hr",an).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex(),Qc=G(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ws).getRegex(),di={blockquote:Qc,code:$c,def:Gc,fences:Wc,heading:Zc,hr:an,html:Yc,lheading:bs,list:Xc,newline:Vc,paragraph:ws,table:Jt,text:Uc},xl=G("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",an).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex(),Jc={...di,lheading:jc,table:xl,paragraph:G(fi).replace("hr",an).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",xl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zn).getRegex()},Kc={...di,html:G(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pi).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:G(fi).replace("hr",an).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bs).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},eu=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tu=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,xs=/^( {2,}|\\)\n(?!\s*$)/,nu=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,jn=/[\p{P}\p{S}]/u,gi=/[\s\p{P}\p{S}]/u,ys=/[^\s\p{P}\p{S}]/u,ru=G(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,gi).getRegex(),_s=/(?!~)[\p{P}\p{S}]/u,iu=/(?!~)[\s\p{P}\p{S}]/u,lu=/(?:[^\s\p{P}\p{S}]|~)/u,su=G(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",qc?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ss=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ou=G(Ss,"u").replace(/punct/g,jn).getRegex(),au=G(Ss,"u").replace(/punct/g,_s).getRegex(),Es="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cu=G(Es,"gu").replace(/notPunctSpace/g,ys).replace(/punctSpace/g,gi).replace(/punct/g,jn).getRegex(),uu=G(Es,"gu").replace(/notPunctSpace/g,lu).replace(/punctSpace/g,iu).replace(/punct/g,_s).getRegex(),fu=G("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ys).replace(/punctSpace/g,gi).replace(/punct/g,jn).getRegex(),hu=G(/\\(punct)/,"gu").replace(/punct/g,jn).getRegex(),pu=G(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),du=G(pi).replace("(?:-->|$)","-->").getRegex(),gu=G("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",du).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zn=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,vu=G(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",zn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),As=G(/^!?\[(label)\]\[(ref)\]/).replace("label",zn).replace("ref",hi).getRegex(),Rs=G(/^!?\[(ref)\](?:\[\])?/).replace("ref",hi).getRegex(),mu=G("reflink|nolink(?!\\()","g").replace("reflink",As).replace("nolink",Rs).getRegex(),yl=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,vi={_backpedal:Jt,anyPunctuation:hu,autolink:pu,blockSkip:su,br:xs,code:tu,del:Jt,emStrongLDelim:ou,emStrongRDelimAst:cu,emStrongRDelimUnd:fu,escape:eu,link:vu,nolink:Rs,punctuation:ru,reflink:As,reflinkSearch:mu,tag:gu,text:nu,url:Jt},ku={...vi,link:G(/^!?\[(label)\]\((.*?)\)/).replace("label",zn).getRegex(),reflink:G(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zn).getRegex()},Qr={...vi,emStrongRDelimAst:uu,emStrongLDelim:au,url:G(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",yl).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:G(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",yl).getRegex()},bu={...Qr,br:G(xs).replace("{2,}","*").getRegex(),text:G(Qr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Sn={normal:di,gfm:Jc,pedantic:Kc},$t={normal:vi,gfm:Qr,breaks:bu,pedantic:ku},wu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_l=e=>wu[e];function Ke(e,t){if(t){if(ve.escapeTest.test(e))return e.replace(ve.escapeReplace,_l)}else if(ve.escapeTestNoEncode.test(e))return e.replace(ve.escapeReplaceNoEncode,_l);return e}function Sl(e){try{e=encodeURI(e).replace(ve.percentDecode,"%")}catch{return null}return e}function El(e,t){let n=e.replace(ve.findPipe,(l,s,o)=>{let c=!1,f=s;for(;--f>=0&&o[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(ve.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(ve.slashPipe,"|");return r}function Wt(e,t,n){let r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function xu(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function Al(e,t,n,r,i){let l=t.href,s=t.title||null,o=e[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:l,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,c}function yu(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(r===null)return t;let i=r[1];return t.split(`
`).map(l=>{let s=l.match(n.other.beginningSpace);if(s===null)return l;let[o]=s;return o.length>=i.length?l.slice(i.length):l}).join(`
`)}var Dn=class{options;rules;lexer;constructor(e){this.options=e||xt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Wt(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=yu(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Wt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Wt(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Wt(t[0],`
`).split(`
`),r="",i="",l=[];for(;n.length>0;){let s=!1,o=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))o.push(n[c]),s=!0;else if(!s)o.push(n[c]);else break;n=n.slice(c);let f=o.join(`
`),a=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${f}`:f,i=i?`${i}
${a}`:a;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(a,l,!0),this.lexer.state.top=h,n.length===0)break;let u=l.at(-1);if(u?.type==="code")break;if(u?.type==="blockquote"){let d=u,p=d.raw+`
`+n.join(`
`),m=this.blockquote(p);l[l.length-1]=m,r=r.substring(0,r.length-d.raw.length)+m.raw,i=i.substring(0,i.length-d.text.length)+m.text;break}else if(u?.type==="list"){let d=u,p=d.raw+`
`+n.join(`
`),m=this.list(p);l[l.length-1]=m,r=r.substring(0,r.length-u.raw.length)+m.raw,i=i.substring(0,i.length-d.raw.length)+m.raw,n=p.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:l,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let l=this.rules.other.listItemRegex(n),s=!1;for(;e;){let c=!1,f="",a="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),u=e.split(`
`,1)[0],d=!h.trim(),p=0;if(this.options.pedantic?(p=2,a=h.trimStart()):d?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,a=h.slice(p),p+=t[1].length),d&&this.rules.other.blankLine.test(u)&&(f+=u+`
`,e=e.substring(u.length+1),c=!0),!c){let w=this.rules.other.nextBulletRegex(p),_=this.rules.other.hrRegex(p),y=this.rules.other.fencesBeginRegex(p),x=this.rules.other.headingBeginRegex(p),v=this.rules.other.htmlBeginRegex(p);for(;e;){let T=e.split(`
`,1)[0],S;if(u=T,this.options.pedantic?(u=u.replace(this.rules.other.listReplaceNesting,"  "),S=u):S=u.replace(this.rules.other.tabCharGlobal,"    "),y.test(u)||x.test(u)||v.test(u)||w.test(u)||_.test(u))break;if(S.search(this.rules.other.nonSpaceChar)>=p||!u.trim())a+=`
`+S.slice(p);else{if(d||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(h)||x.test(h)||_.test(h))break;a+=`
`+u}!d&&!u.trim()&&(d=!0),f+=T+`
`,e=e.substring(T.length+1),h=S.slice(p)}}i.loose||(s?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(s=!0));let m=null;this.options.gfm&&(m=this.rules.other.listIsTask.exec(a),m&&(a=a.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:f,task:!!m,loose:!1,text:a,tokens:[]}),i.raw+=f}let o=i.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c of i.items){if(this.lexer.state.top=!1,c.tokens=this.lexer.blockTokens(c.text,[]),c.task){let f=this.rules.other.listTaskCheckbox.exec(c.raw);if(f){let a={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};c.checked=a.checked,i.loose?c.tokens[0]&&["paragraph","text"].includes(c.tokens[0].type)&&"tokens"in c.tokens[0]&&c.tokens[0].tokens?(c.tokens[0].raw=a.raw+c.tokens[0].raw,c.tokens[0].text=a.raw+c.tokens[0].text,c.tokens[0].tokens.unshift(a)):c.tokens.unshift({type:"paragraph",raw:a.raw,text:a.raw,tokens:[a]}):c.tokens.unshift(a)}}if(!i.loose){let f=c.tokens.filter(h=>h.type==="space"),a=f.length>0&&f.some(h=>this.rules.other.anyLine.test(h.raw));i.loose=a}}if(i.loose)for(let c of i.items){c.loose=!0;for(let f of c.tokens)f.type==="text"&&(f.type="paragraph")}return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=El(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?l.align.push("right"):this.rules.other.tableAlignCenter.test(s)?l.align.push("center"):this.rules.other.tableAlignLeft.test(s)?l.align.push("left"):l.align.push(null);for(let s=0;s<n.length;s++)l.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:l.align[s]});for(let s of i)l.rows.push(El(s,l.header.length).map((o,c)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:l.align[c]})));return l}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let l=Wt(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=xu(t[2],"()");if(l===-2)return;if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(r);l&&(r=l[1],i=l[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Al(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=t[r.toLowerCase()];if(!i){let l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return Al(n,i,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,l,s,o=i,c=0,f=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+i);(r=f.exec(t))!=null;){if(l=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!l)continue;if(s=[...l].length,r[3]||r[4]){o+=s;continue}else if((r[5]||r[6])&&i%3&&!((i+s)%3)){c+=s;continue}if(o-=s,o>0)continue;s=Math.min(s,s+o+c);let a=[...r[0]][0].length,h=e.slice(0,i+r.index+a+s);if(Math.min(i,s)%2){let d=h.slice(1,-1);return{type:"em",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}let u=h.slice(2,-2);return{type:"strong",raw:h,text:u,tokens:this.lexer.inlineTokens(u)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Me=class Jr{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||xt,this.options.tokenizer=this.options.tokenizer||new Dn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ve,block:Sn.normal,inline:$t.normal};this.options.pedantic?(n.block=Sn.pedantic,n.inline=$t.pedantic):this.options.gfm&&(n.block=Sn.gfm,this.options.breaks?n.inline=$t.breaks:n.inline=$t.gfm),this.tokenizer.rules=n}static get rules(){return{block:Sn,inline:$t}}static lex(t,n){return new Jr(n).lex(t)}static lexInline(t,n){return new Jr(n).inlineTokens(t)}lex(t){t=t.replace(ve.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(ve.tabCharGlobal,"    ").replace(ve.spaceLine,""));t;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length);let s=n.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}let l=t;if(this.options.extensions?.startBlock){let s=1/0,o=t.slice(1),c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},o),typeof c=="number"&&c>=0&&(s=Math.min(s,c))}),s<1/0&&s>=0&&(l=t.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(l))){let s=n.at(-1);r&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i),r=l.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length);let s=n.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(i);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,i=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)l=i[2]?i[2].length:0,r=r.slice(0,i.index+l)+"["+"a".repeat(i[0].length-l-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let s=!1,o="";for(;t;){s||(o=""),s=!1;let c;if(this.options.extensions?.inline?.some(a=>(c=a.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);let a=n.at(-1);c.type==="text"&&a?.type==="text"?(a.raw+=c.raw,a.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,r,o)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let f=t;if(this.options.extensions?.startInline){let a=1/0,h=t.slice(1),u;this.options.extensions.startInline.forEach(d=>{u=d.call({lexer:this},h),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(f=t.substring(0,a+1))}if(c=this.tokenizer.inlineText(f)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),s=!0;let a=n.at(-1);a?.type==="text"?(a.raw+=c.raw,a.text+=c.text):n.push(c);continue}if(t){let a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return n}},Bn=class{options;parser;constructor(e){this.options=e||xt}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(ve.notSpaceStart)?.[0],i=e.replace(ve.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Ke(r)+'">'+(n?i:Ke(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:Ke(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++){let o=e.items[s];r+=this.listitem(o)}let i=t?"ol":"ul",l=t&&n!==1?' start="'+n+'"':"";return"<"+i+l+`>
`+r+"</"+i+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){let l=e.rows[i];n="";for(let s=0;s<l.length;s++)n+=this.tablecell(l[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ke(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),i=Sl(e);if(i===null)return r;e=i;let l='<a href="'+e+'"';return t&&(l+=' title="'+Ke(t)+'"'),l+=">"+r+"</a>",l}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=Sl(e);if(i===null)return Ke(n);e=i;let l=`<img src="${e}" alt="${n}"`;return t&&(l+=` title="${Ke(t)}"`),l+=">",l}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ke(e.text)}},mi=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Ne=class Kr{options;renderer;textRenderer;constructor(t){this.options=t||xt,this.options.renderer=this.options.renderer||new Bn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new mi}static parse(t,n){return new Kr(n).parse(t)}static parseInline(t,n){return new Kr(n).parseInline(t)}parse(t){let n="";for(let r=0;r<t.length;r++){let i=t[r];if(this.options.extensions?.renderers?.[i.type]){let s=i,o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){n+=o||"";continue}}let l=i;switch(l.type){case"space":{n+=this.renderer.space(l);break}case"hr":{n+=this.renderer.hr(l);break}case"heading":{n+=this.renderer.heading(l);break}case"code":{n+=this.renderer.code(l);break}case"table":{n+=this.renderer.table(l);break}case"blockquote":{n+=this.renderer.blockquote(l);break}case"list":{n+=this.renderer.list(l);break}case"checkbox":{n+=this.renderer.checkbox(l);break}case"html":{n+=this.renderer.html(l);break}case"def":{n+=this.renderer.def(l);break}case"paragraph":{n+=this.renderer.paragraph(l);break}case"text":{n+=this.renderer.text(l);break}default:{let s='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,n=this.renderer){let r="";for(let i=0;i<t.length;i++){let l=t[i];if(this.options.extensions?.renderers?.[l.type]){let o=this.options.extensions.renderers[l.type].call({parser:this},l);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=o||"";continue}}let s=l;switch(s.type){case"escape":{r+=n.text(s);break}case"html":{r+=n.html(s);break}case"link":{r+=n.link(s);break}case"image":{r+=n.image(s);break}case"checkbox":{r+=n.checkbox(s);break}case"strong":{r+=n.strong(s);break}case"em":{r+=n.em(s);break}case"codespan":{r+=n.codespan(s);break}case"br":{r+=n.br(s);break}case"del":{r+=n.del(s);break}case"text":{r+=n.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}},Yt=class{options;block;constructor(e){this.options=e||xt}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Me.lex:Me.lexInline}provideParser(){return this.block?Ne.parse:Ne.parseInline}},_u=class{defaults=ci();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Ne;Renderer=Bn;TextRenderer=mi;Lexer=Me;Tokenizer=Dn;Hooks=Yt;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let i=r;for(let l of i.header)n=n.concat(this.walkTokens(l.tokens,t));for(let l of i.rows)for(let s of l)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":{let i=r;n=n.concat(this.walkTokens(i.items,t));break}default:{let i=r;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(l=>{let s=i[l].flat(1/0);n=n.concat(this.walkTokens(s,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let l=t.renderers[i.name];l?t.renderers[i.name]=function(...s){let o=i.renderer.apply(this,s);return o===!1&&(o=l.apply(this,s)),o}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=t[i.level];l?l.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),r.extensions=t),n.renderer){let i=this.defaults.renderer||new Bn(this.defaults);for(let l in n.renderer){if(!(l in i))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let s=l,o=n.renderer[s],c=i[s];i[s]=(...f)=>{let a=o.apply(i,f);return a===!1&&(a=c.apply(i,f)),a||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Dn(this.defaults);for(let l in n.tokenizer){if(!(l in i))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let s=l,o=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let a=o.apply(i,f);return a===!1&&(a=c.apply(i,f)),a}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Yt;for(let l in n.hooks){if(!(l in i))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let s=l,o=n.hooks[s],c=i[s];Yt.passThroughHooks.has(l)?i[s]=f=>{if(this.defaults.async&&Yt.passThroughHooksRespectAsync.has(l))return(async()=>{let h=await o.call(i,f);return c.call(i,h)})();let a=o.call(i,f);return c.call(i,a)}:i[s]=(...f)=>{if(this.defaults.async)return(async()=>{let h=await o.apply(i,f);return h===!1&&(h=await c.apply(i,f)),h})();let a=o.apply(i,f);return a===!1&&(a=c.apply(i,f)),a}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,l=n.walkTokens;r.walkTokens=function(s){let o=[];return o.push(l.call(this,s)),i&&(o=o.concat(i.call(this,s))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Me.lex(e,t??this.defaults)}parser(e,t){return Ne.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},i={...this.defaults,...r},l=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=e),i.async)return(async()=>{let s=i.hooks?await i.hooks.preprocess(t):t,o=await(i.hooks?await i.hooks.provideLexer():e?Me.lex:Me.lexInline)(s,i),c=i.hooks?await i.hooks.processAllTokens(o):o;i.walkTokens&&await Promise.all(this.walkTokens(c,i.walkTokens));let f=await(i.hooks?await i.hooks.provideParser():e?Ne.parse:Ne.parseInline)(c,i);return i.hooks?await i.hooks.postprocess(f):f})().catch(l);try{i.hooks&&(t=i.hooks.preprocess(t));let s=(i.hooks?i.hooks.provideLexer():e?Me.lex:Me.lexInline)(t,i);i.hooks&&(s=i.hooks.processAllTokens(s)),i.walkTokens&&this.walkTokens(s,i.walkTokens);let o=(i.hooks?i.hooks.provideParser():e?Ne.parse:Ne.parseInline)(s,i);return i.hooks&&(o=i.hooks.postprocess(o)),o}catch(s){return l(s)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+Ke(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},mt=new _u;function V(e,t){return mt.parse(e,t)}V.options=V.setOptions=function(e){return mt.setOptions(e),V.defaults=mt.defaults,ms(V.defaults),V};V.getDefaults=ci;V.defaults=xt;V.use=function(...e){return mt.use(...e),V.defaults=mt.defaults,ms(V.defaults),V};V.walkTokens=function(e,t){return mt.walkTokens(e,t)};V.parseInline=mt.parseInline;V.Parser=Ne;V.parser=Ne.parse;V.Renderer=Bn;V.TextRenderer=mi;V.Lexer=Me;V.lexer=Me.lex;V.Tokenizer=Dn;V.Hooks=Yt;V.parse=V;V.options;V.setOptions;V.use;V.walkTokens;V.parseInline;Ne.parse;Me.lex;var Su=he('<h2 class="svelte-7m5tkc"> </h2> <table style="width:100%" class="svelte-7m5tkc"><tbody><tr><th style="width:30%" class="svelte-7m5tkc">Doing or Paying?</th><td class="svelte-7m5tkc"><!></td></tr><tr><th class="svelte-7m5tkc">Tools</th><td class="svelte-7m5tkc"><!></td></tr><tr><th class="svelte-7m5tkc">Priorities</th><td class="svelte-7m5tkc"><!></td></tr></tbody></table> <p id="description" class="svelte-7m5tkc"><!></p>',1),Eu=he('<div id="country-info" class="svelte-7m5tkc"><!></div>');function Au(e,t){$n(t,!1);let n=M(t,"policyData",8),r=M(t,"selectedCountry",8);ii();var i=Eu(),l=W(i);{var s=o=>{var c=Su(),f=xe(c),a=W(f,!0);Z(f);var h=ee(f,2),u=W(h),d=W(u),p=ee(W(d)),m=W(p);vn(m,()=>(C(V),C(n()),C(r()),le(()=>V(n().get(r().value).doing_or_paying).replace(/<\/?p>/g,"")))),Z(p),Z(d);var w=ee(d),_=ee(W(w)),y=W(_);vn(y,()=>(C(V),C(n()),C(r()),le(()=>V(n().get(r().value).tools).replace(/<\/?p>/g,"")))),Z(_),Z(w);var x=ee(w),v=ee(W(x)),T=W(v);vn(T,()=>(C(V),C(n()),C(r()),le(()=>V(n().get(r().value).priorities).replace(/<\/?p>/g,"")))),Z(v),Z(x),Z(u),Z(h);var S=ee(h,2),A=W(S);vn(A,()=>(C(V),C(n()),C(r()),le(()=>V(n().get(r().value).description).replace(/<\/?p>/g,"")))),Z(S),be(()=>Ct(a,(C(r()),le(()=>r().value)))),H(o,c)};pe(l,o=>{n()&&r()&&o(s)})}Z(i),H(e,i),Wn()}const Fn=Math.min,dt=Math.max,Hn=Math.round,En=Math.floor,We=e=>({x:e,y:e}),Ru={left:"right",right:"left",bottom:"top",top:"bottom"},Tu={start:"end",end:"start"};function Rl(e,t,n){return dt(e,Fn(t,n))}function Un(e,t){return typeof e=="function"?e(t):e}function kt(e){return e.split("-")[0]}function Gn(e){return e.split("-")[1]}function Ts(e){return e==="x"?"y":"x"}function Cs(e){return e==="y"?"height":"width"}const Cu=new Set(["top","bottom"]);function st(e){return Cu.has(kt(e))?"y":"x"}function Is(e){return Ts(st(e))}function Iu(e,t,n){n===void 0&&(n=!1);const r=Gn(e),i=Is(e),l=Cs(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(s=qn(s)),[s,qn(s)]}function Lu(e){const t=qn(e);return[ei(e),t,ei(t)]}function ei(e){return e.replace(/start|end/g,t=>Tu[t])}const Tl=["left","right"],Cl=["right","left"],Ou=["top","bottom"],Pu=["bottom","top"];function Mu(e,t,n){switch(e){case"top":case"bottom":return n?t?Cl:Tl:t?Tl:Cl;case"left":case"right":return t?Ou:Pu;default:return[]}}function Nu(e,t,n,r){const i=Gn(e);let l=Mu(kt(e),n==="start",r);return i&&(l=l.map(s=>s+"-"+i),t&&(l=l.concat(l.map(ei)))),l}function qn(e){return e.replace(/left|right|bottom|top/g,t=>Ru[t])}function zu(e){return{top:0,right:0,bottom:0,left:0,...e}}function Du(e){return typeof e!="number"?zu(e):{top:e,right:e,bottom:e,left:e}}function Vn(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Il(e,t,n){let{reference:r,floating:i}=e;const l=st(t),s=Is(t),o=Cs(s),c=kt(t),f=l==="y",a=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,u=r[o]/2-i[o]/2;let d;switch(c){case"top":d={x:a,y:r.y-i.height};break;case"bottom":d={x:a,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(Gn(t)){case"start":d[s]-=u*(n&&f?-1:1);break;case"end":d[s]+=u*(n&&f?-1:1);break}return d}const Bu=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:l=[],platform:s}=n,o=l.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:a,y:h}=Il(f,r,c),u=r,d={},p=0;for(let m=0;m<o.length;m++){const{name:w,fn:_}=o[m],{x:y,y:x,data:v,reset:T}=await _({x:a,y:h,initialPlacement:r,placement:u,strategy:i,middlewareData:d,rects:f,platform:s,elements:{reference:e,floating:t}});a=y??a,h=x??h,d={...d,[w]:{...d[w],...v}},T&&p<=50&&(p++,typeof T=="object"&&(T.placement&&(u=T.placement),T.rects&&(f=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:a,y:h}=Il(f,u,c)),m=-1)}return{x:a,y:h,placement:u,strategy:i,middlewareData:d}};async function Ls(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:l,rects:s,elements:o,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:a="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=Un(t,e),p=Du(d),w=o[u?h==="floating"?"reference":"floating":h],_=Vn(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(w)))==null||n?w:w.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:f,rootBoundary:a,strategy:c})),y=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),v=await(l.isElement==null?void 0:l.isElement(x))?await(l.getScale==null?void 0:l.getScale(x))||{x:1,y:1}:{x:1,y:1},T=Vn(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:c}):y);return{top:(_.top-T.top+p.top)/v.y,bottom:(T.bottom-_.bottom+p.bottom)/v.y,left:(_.left-T.left+p.left)/v.x,right:(T.right-_.right+p.right)/v.x}}const Fu=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:l,rects:s,initialPlacement:o,platform:c,elements:f}=t,{mainAxis:a=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...w}=Un(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=kt(i),y=st(o),x=kt(o)===o,v=await(c.isRTL==null?void 0:c.isRTL(f.floating)),T=u||(x||!m?[qn(o)]:Lu(o)),S=p!=="none";!u&&S&&T.push(...Nu(o,m,p,v));const A=[o,...T],g=await Ls(t,w),I=[];let L=((r=l.flip)==null?void 0:r.overflows)||[];if(a&&I.push(g[_]),h){const D=Iu(i,s,v);I.push(g[D[0]],g[D[1]])}if(L=[...L,{placement:i,overflows:I}],!I.every(D=>D<=0)){var O,$;const D=(((O=l.flip)==null?void 0:O.index)||0)+1,E=A[D];if(E&&(!(h==="alignment"?y!==st(E):!1)||L.every(P=>st(P.placement)===y?P.overflows[0]>0:!0)))return{data:{index:D,overflows:L},reset:{placement:E}};let z=($=L.filter(Y=>Y.overflows[0]<=0).sort((Y,P)=>Y.overflows[1]-P.overflows[1])[0])==null?void 0:$.placement;if(!z)switch(d){case"bestFit":{var B;const Y=(B=L.filter(P=>{if(S){const Q=st(P.placement);return Q===y||Q==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(Q=>Q>0).reduce((Q,Ue)=>Q+Ue,0)]).sort((P,Q)=>P[1]-Q[1])[0])==null?void 0:B[0];Y&&(z=Y);break}case"initialPlacement":z=o;break}if(i!==z)return{reset:{placement:z}}}return{}}}},Hu=new Set(["left","top"]);async function qu(e,t){const{placement:n,platform:r,elements:i}=e,l=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=kt(n),o=Gn(n),c=st(n)==="y",f=Hu.has(s)?-1:1,a=l&&c?-1:1,h=Un(t,e);let{mainAxis:u,crossAxis:d,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof p=="number"&&(d=o==="end"?p*-1:p),c?{x:d*a,y:u*f}:{x:u*f,y:d*a}}const Vu=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:l,placement:s,middlewareData:o}=t,c=await qu(t,e);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:l+c.y,data:{...c,placement:s}}}}},$u=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:l=!0,crossAxis:s=!1,limiter:o={fn:w=>{let{x:_,y}=w;return{x:_,y}}},...c}=Un(e,t),f={x:n,y:r},a=await Ls(t,c),h=st(kt(i)),u=Ts(h);let d=f[u],p=f[h];if(l){const w=u==="y"?"top":"left",_=u==="y"?"bottom":"right",y=d+a[w],x=d-a[_];d=Rl(y,d,x)}if(s){const w=h==="y"?"top":"left",_=h==="y"?"bottom":"right",y=p+a[w],x=p-a[_];p=Rl(y,p,x)}const m=o.fn({...t,[u]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[u]:l,[h]:s}}}}}};function Xn(){return typeof window<"u"}function zt(e){return Os(e)?(e.nodeName||"").toLowerCase():"#document"}function _e(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function je(e){var t;return(t=(Os(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Os(e){return Xn()?e instanceof Node||e instanceof _e(e).Node:!1}function ze(e){return Xn()?e instanceof Element||e instanceof _e(e).Element:!1}function Ze(e){return Xn()?e instanceof HTMLElement||e instanceof _e(e).HTMLElement:!1}function Ll(e){return!Xn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _e(e).ShadowRoot}const Wu=new Set(["inline","contents"]);function cn(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=De(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Wu.has(i)}const Zu=new Set(["table","td","th"]);function ju(e){return Zu.has(zt(e))}const Uu=[":popover-open",":modal"];function Yn(e){return Uu.some(t=>{try{return e.matches(t)}catch{return!1}})}const Gu=["transform","translate","scale","rotate","perspective"],Xu=["transform","translate","scale","rotate","perspective","filter"],Yu=["paint","layout","strict","content"];function ki(e){const t=bi(),n=ze(e)?De(e):e;return Gu.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Xu.some(r=>(n.willChange||"").includes(r))||Yu.some(r=>(n.contain||"").includes(r))}function Qu(e){let t=ot(e);for(;Ze(t)&&!Nt(t);){if(ki(t))return t;if(Yn(t))return null;t=ot(t)}return null}function bi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ju=new Set(["html","body","#document"]);function Nt(e){return Ju.has(zt(e))}function De(e){return _e(e).getComputedStyle(e)}function Qn(e){return ze(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ot(e){if(zt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ll(e)&&e.host||je(e);return Ll(t)?t.host:t}function Ps(e){const t=ot(e);return Nt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ze(t)&&cn(t)?t:Ps(t)}function sn(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=Ps(e),l=i===((r=e.ownerDocument)==null?void 0:r.body),s=_e(i);if(l){const o=ti(s);return t.concat(s,s.visualViewport||[],cn(i)?i:[],o&&n?sn(o):[])}return t.concat(i,sn(i,[],n))}function ti(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ms(e){const t=De(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ze(e),l=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=Hn(n)!==l||Hn(r)!==s;return o&&(n=l,r=s),{width:n,height:r,$:o}}function wi(e){return ze(e)?e:e.contextElement}function Ot(e){const t=wi(e);if(!Ze(t))return We(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:l}=Ms(t);let s=(l?Hn(n.width):n.width)/r,o=(l?Hn(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Ku=We(0);function Ns(e){const t=_e(e);return!bi()||!t.visualViewport?Ku:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ef(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_e(e)?!1:t}function bt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),l=wi(e);let s=We(1);t&&(r?ze(r)&&(s=Ot(r)):s=Ot(e));const o=ef(l,n,r)?Ns(l):We(0);let c=(i.left+o.x)/s.x,f=(i.top+o.y)/s.y,a=i.width/s.x,h=i.height/s.y;if(l){const u=_e(l),d=r&&ze(r)?_e(r):r;let p=u,m=ti(p);for(;m&&r&&d!==p;){const w=Ot(m),_=m.getBoundingClientRect(),y=De(m),x=_.left+(m.clientLeft+parseFloat(y.paddingLeft))*w.x,v=_.top+(m.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,f*=w.y,a*=w.x,h*=w.y,c+=x,f+=v,p=_e(m),m=ti(p)}}return Vn({width:a,height:h,x:c,y:f})}function Jn(e,t){const n=Qn(e).scrollLeft;return t?t.left+n:bt(je(e)).left+n}function zs(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Jn(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function tf(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const l=i==="fixed",s=je(r),o=t?Yn(t.floating):!1;if(r===s||o&&l)return n;let c={scrollLeft:0,scrollTop:0},f=We(1);const a=We(0),h=Ze(r);if((h||!h&&!l)&&((zt(r)!=="body"||cn(s))&&(c=Qn(r)),Ze(r))){const d=bt(r);f=Ot(r),a.x=d.x+r.clientLeft,a.y=d.y+r.clientTop}const u=s&&!h&&!l?zs(s,c):We(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+a.x+u.x,y:n.y*f.y-c.scrollTop*f.y+a.y+u.y}}function nf(e){return Array.from(e.getClientRects())}function rf(e){const t=je(e),n=Qn(e),r=e.ownerDocument.body,i=dt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=dt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Jn(e);const o=-n.scrollTop;return De(r).direction==="rtl"&&(s+=dt(t.clientWidth,r.clientWidth)-i),{width:i,height:l,x:s,y:o}}const Ol=25;function lf(e,t){const n=_e(e),r=je(e),i=n.visualViewport;let l=r.clientWidth,s=r.clientHeight,o=0,c=0;if(i){l=i.width,s=i.height;const a=bi();(!a||a&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const f=Jn(r);if(f<=0){const a=r.ownerDocument,h=a.body,u=getComputedStyle(h),d=a.compatMode==="CSS1Compat"&&parseFloat(u.marginLeft)+parseFloat(u.marginRight)||0,p=Math.abs(r.clientWidth-h.clientWidth-d);p<=Ol&&(l-=p)}else f<=Ol&&(l+=f);return{width:l,height:s,x:o,y:c}}const sf=new Set(["absolute","fixed"]);function of(e,t){const n=bt(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,l=Ze(e)?Ot(e):We(1),s=e.clientWidth*l.x,o=e.clientHeight*l.y,c=i*l.x,f=r*l.y;return{width:s,height:o,x:c,y:f}}function Pl(e,t,n){let r;if(t==="viewport")r=lf(e,n);else if(t==="document")r=rf(je(e));else if(ze(t))r=of(t,n);else{const i=Ns(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Vn(r)}function Ds(e,t){const n=ot(e);return n===t||!ze(n)||Nt(n)?!1:De(n).position==="fixed"||Ds(n,t)}function af(e,t){const n=t.get(e);if(n)return n;let r=sn(e,[],!1).filter(o=>ze(o)&&zt(o)!=="body"),i=null;const l=De(e).position==="fixed";let s=l?ot(e):e;for(;ze(s)&&!Nt(s);){const o=De(s),c=ki(s);!c&&o.position==="fixed"&&(i=null),(l?!c&&!i:!c&&o.position==="static"&&!!i&&sf.has(i.position)||cn(s)&&!c&&Ds(e,s))?r=r.filter(a=>a!==s):i=o,s=ot(s)}return t.set(e,r),r}function cf(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?Yn(t)?[]:af(t,this._c):[].concat(n),r],o=s[0],c=s.reduce((f,a)=>{const h=Pl(t,a,i);return f.top=dt(h.top,f.top),f.right=Fn(h.right,f.right),f.bottom=Fn(h.bottom,f.bottom),f.left=dt(h.left,f.left),f},Pl(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uf(e){const{width:t,height:n}=Ms(e);return{width:t,height:n}}function ff(e,t,n){const r=Ze(t),i=je(t),l=n==="fixed",s=bt(e,!0,l,t);let o={scrollLeft:0,scrollTop:0};const c=We(0);function f(){c.x=Jn(i)}if(r||!r&&!l)if((zt(t)!=="body"||cn(i))&&(o=Qn(t)),r){const d=bt(t,!0,l,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else i&&f();l&&!r&&i&&f();const a=i&&!r&&!l?zs(i,o):We(0),h=s.left+o.scrollLeft-c.x-a.x,u=s.top+o.scrollTop-c.y-a.y;return{x:h,y:u,width:s.width,height:s.height}}function Ir(e){return De(e).position==="static"}function Ml(e,t){if(!Ze(e)||De(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return je(e)===n&&(n=n.ownerDocument.body),n}function Bs(e,t){const n=_e(e);if(Yn(e))return n;if(!Ze(e)){let i=ot(e);for(;i&&!Nt(i);){if(ze(i)&&!Ir(i))return i;i=ot(i)}return n}let r=Ml(e,t);for(;r&&ju(r)&&Ir(r);)r=Ml(r,t);return r&&Nt(r)&&Ir(r)&&!ki(r)?n:r||Qu(e)||n}const hf=async function(e){const t=this.getOffsetParent||Bs,n=this.getDimensions,r=await n(e.floating);return{reference:ff(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pf(e){return De(e).direction==="rtl"}const df={convertOffsetParentRelativeRectToViewportRelativeRect:tf,getDocumentElement:je,getClippingRect:cf,getOffsetParent:Bs,getElementRects:hf,getClientRects:nf,getDimensions:uf,getScale:Ot,isElement:ze,isRTL:pf};function Fs(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gf(e,t){let n=null,r;const i=je(e);function l(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),l();const f=e.getBoundingClientRect(),{left:a,top:h,width:u,height:d}=f;if(o||t(),!u||!d)return;const p=En(h),m=En(i.clientWidth-(a+u)),w=En(i.clientHeight-(h+d)),_=En(a),x={rootMargin:-p+"px "+-m+"px "+-w+"px "+-_+"px",threshold:dt(0,Fn(1,c))||1};let v=!0;function T(S){const A=S[0].intersectionRatio;if(A!==c){if(!v)return s();A?s(!1,A):r=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!Fs(f,e.getBoundingClientRect())&&s(),v=!1}try{n=new IntersectionObserver(T,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,x)}n.observe(e)}return s(!0),l}function vf(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=wi(e),a=i||l?[...f?sn(f):[],...sn(t)]:[];a.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const h=f&&o?gf(f,n):null;let u=-1,d=null;s&&(d=new ResizeObserver(_=>{let[y]=_;y&&y.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var x;(x=d)==null||x.observe(t)})),n()}),f&&!c&&d.observe(f),d.observe(t));let p,m=c?bt(e):null;c&&w();function w(){const _=bt(e);m&&!Fs(m,_)&&n(),m=_,p=requestAnimationFrame(w)}return n(),()=>{var _;a.forEach(y=>{i&&y.removeEventListener("scroll",n),l&&y.removeEventListener("resize",n)}),h?.(),(_=d)==null||_.disconnect(),d=null,c&&cancelAnimationFrame(p)}}const mf=Vu,kf=$u,bf=Fu,wf=(e,t,n)=>{const r=new Map,i={platform:df,...n},l={...i.platform,_c:r};return Bu(e,t,{...i,platform:l})};function xf(e){let t,n;const r={autoUpdate:!0};let i=e;const l=a=>({...r,...e||{},...a||{}}),s=a=>{t&&n&&(i=l(a),wf(t,n,i).then(h=>{Object.assign(n.style,{position:h.strategy,left:`${h.x}px`,top:`${h.y}px`}),i?.onComputed&&i.onComputed(h)}))},o=a=>{if("subscribe"in a)return f(a),{};t=a,s()},c=(a,h)=>{let u;n=a,i=l(h),setTimeout(()=>s(h),0),s(h);const d=()=>{u&&(u(),u=void 0)},p=({autoUpdate:m}=i||{})=>{d(),m!==!1&&Wl().then(()=>vf(t,n,()=>s(i),m===!0?{}:m))};return u=p(),{update(m){s(m),u=p(m)},destroy(){d()}}},f=a=>{const h=a.subscribe(u=>{t===void 0?(t=u,s()):(Object.assign(t,u),s())});Nl(h)};return[o,c,s]}function yf({loadOptions:e,filterText:t,items:n,multiple:r,value:i,itemId:l,groupBy:s,filterSelectedItems:o,itemFilter:c,convertStringItemsToObjects:f,filterGroupedItems:a,label:h}){if(n&&e)return n;if(!n)return[];n&&n.length>0&&typeof n[0]!="object"&&(n=f(n));let u=n.filter(d=>{let p=c(d[h],t,d);return p&&r&&i?.length&&(p=!i.some(m=>o?m[l]===d[l]:!1)),p});return s&&(u=a(u)),u}async function _f({dispatch:e,loadOptions:t,convertStringItemsToObjects:n,filterText:r}){let i=await t(r).catch(l=>{console.warn("svelte-select loadOptions error :>> ",l),e("error",{type:"loadOptions",details:l})});if(i&&!i.cancelled)return i?(i&&i.length>0&&typeof i[0]!="object"&&(i=n(i)),e("loaded",{items:i})):i=[],{filteredItems:i,loading:!1,focused:!0,listOpen:!0}}var Sf=on(`<svg width="100%" height="100%" viewBox="0 0 20 20" focusable="false" aria-hidden="true" class="svelte-1kxu7be"><path fill="currentColor" d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>`);function Ef(e){var t=Sf();H(e,t)}var Af=on(`<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-1hraxrc"><path fill="currentColor" d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`);function Lr(e){var t=Af();H(e,t)}var Rf=on('<svg class="loading svelte-y9fi5p" viewBox="25 25 50 50"><circle class="circle_path svelte-y9fi5p" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>');function Tf(e){var t=Rf();H(e,t)}var Cf=he('<div class="list-item svelte-1ul7oo4" tabindex="-1" role="none"><div><!></div></div>'),If=he('<div class="empty svelte-1ul7oo4">No options</div>'),Lf=he('<div role="none"><!> <!> <!></div>'),Of=he('<span id="aria-selection" class="svelte-1ul7oo4"> </span> <span id="aria-context" class="svelte-1ul7oo4"> </span>',1),Pf=he('<div class="multi-item-clear svelte-1ul7oo4"><!></div>'),Mf=he('<div role="none"><span class="multi-item-text svelte-1ul7oo4"><!></span> <!></div>'),Nf=he("<div><!></div>"),zf=he('<div class="icon loading svelte-1ul7oo4" aria-hidden="true"><!></div>'),Df=he('<button type="button" class="icon clear-select svelte-1ul7oo4"><!></button>'),Bf=he('<div class="icon chevron svelte-1ul7oo4" aria-hidden="true"><!></div>'),Ff=he('<input type="hidden" class="svelte-1ul7oo4"/>'),Hf=he('<select class="required svelte-1ul7oo4" required tabindex="-1" aria-hidden="true"></select>'),qf=he('<div role="none"><!> <span aria-live="polite" aria-atomic="false" aria-relevant="additions text" class="a11y-text svelte-1ul7oo4"><!></span> <div class="prepend svelte-1ul7oo4"><!></div> <div class="value-container svelte-1ul7oo4"><!> <input/></div> <div class="indicators svelte-1ul7oo4"><!> <!> <!></div> <!> <!></div>');function Vf(e,t){const n=Aa(t);$n(t,!1);const r=ie(),i=ie(),l=ie(),s=ie(),o=ie(),c=ie(),f=ie(),a=ie(),h=ie(),u=Bo();let d=M(t,"justValue",12,null),p=M(t,"filter",8,yf),m=M(t,"getItems",8,_f),w=M(t,"id",8,null),_=M(t,"name",8,null),y=M(t,"container",12,void 0),x=M(t,"input",12,void 0),v=M(t,"multiple",8,!1),T=M(t,"multiFullItemClearable",8,!1),S=M(t,"disabled",8,!1),A=M(t,"focused",12,!1),g=M(t,"value",12,null),I=M(t,"filterText",12,""),L=M(t,"placeholder",8,"Please select"),O=M(t,"placeholderAlwaysShow",8,!1),$=M(t,"items",12,null),B=M(t,"label",8,"label"),D=M(t,"itemFilter",8,(k,R,N)=>`${k}`.toLowerCase().includes(R.toLowerCase())),E=M(t,"groupBy",8,void 0),z=M(t,"groupFilter",8,k=>k),Y=M(t,"groupHeaderSelectable",8,!1),P=M(t,"itemId",8,"value"),Q=M(t,"loadOptions",8,void 0),Ue=M(t,"containerStyles",8,""),Le=M(t,"hasError",8,!1),Be=M(t,"filterSelectedItems",8,!0),Se=M(t,"required",8,!1),yt=M(t,"closeListOnChange",8,!0),tt=M(t,"clearFilterTextOnBlur",8,!0),Hs=M(t,"createGroupHeaderItem",8,(k,R)=>({value:k,[B()]:k}));const xi=()=>b(f);let un=M(t,"searchable",8,!0),qs=M(t,"inputStyles",8,""),yi=M(t,"clearable",8,!0),_t=M(t,"loading",12,!1),F=M(t,"listOpen",12,!1),_i,Vs=M(t,"debounce",8,(k,R=1)=>{clearTimeout(_i),_i=setTimeout(k,R)}),$s=M(t,"debounceWait",8,300),Ws=M(t,"hideEmptyState",8,!1),Kn=M(t,"inputAttributes",24,()=>({})),Zs=M(t,"listAutoWidth",8,!0),Si=M(t,"showChevron",8,!1),js=M(t,"listOffset",8,5),J=M(t,"hoverItemIndex",12,0),Dt=M(t,"floatingConfig",24,()=>({})),Us=M(t,"class",8,""),te=ie(),nt=ie(),er=ie(),tr=ie();function Gs(){if(typeof g()=="string"){let k=($()||[]).find(R=>R[P()]===g());g(k||{[P()]:g(),label:g()})}else v()&&Array.isArray(g())&&g().length>0&&g(g().map(k=>typeof k=="string"?{value:k,label:k}:k))}let St=ie();function Xs(){q(St,Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Kn())),w()&&gn(St,b(St).id=w()),un()||gn(St,b(St).readonly=!0)}function Ei(k){return k.map((R,N)=>({index:N,value:R,label:`${R}`}))}function Ai(k){const R=[],N={};k.forEach(de=>{const se=E()(de);R.includes(se)||(R.push(se),N[se]=[],se&&N[se].push(Object.assign(Hs()(se,de),{id:se,groupHeader:!0,selectable:Y()}))),N[se].push(Object.assign({groupItem:!!se},de))});const ne=[];return z()(R).forEach(de=>{N[de]&&ne.push(...N[de])}),ne}function Ys(){if(v()){JSON.stringify(g())!==JSON.stringify(b(nt))&&Ti()&&u("input",g());return}(!b(nt)||JSON.stringify(g()[P()])!==JSON.stringify(b(nt)[P()]))&&u("input",g())}function Qs(){g()&&(Array.isArray(g())?g([...g()]):g([g()]))}function Js(){g()&&g(null)}function Ks(){const k=b(f).findIndex(R=>R[P()]===g()[P()]);Ri(k,!0)}function eo(k){u("hoverItem",k)}function Ri(k=0,R){J(k<0?0:k),!R&&E()&&b(f)[J()]&&!b(f)[J()].selectable&&fn(1)}function to(){!Q()&&I().length===0||(Q()?Vs()(async function(){_t(!0);let k=await m()({dispatch:u,loadOptions:Q(),convertStringItemsToObjects:Ei,filterText:I()});k?(_t(k.loading),F(F()?k.listOpen:I().length>0),A(F()&&k.focused),$(E()?Ai(k.filteredItems):k.filteredItems)):(_t(!1),A(!0),F(!0))},$s()):(F(!0),v()&&q(te,void 0)))}function no(k){F()&&u("filter",k)}Fo(async()=>{q(nt,g()),q(er,I()),q(tr,v())});function ro(){return v()?g()?g().map(k=>k[P()]):null:g()?g()[P()]:g()}function Ti(){let k=!0;if(g()){const R=[],N=[];g().forEach(ne=>{R.includes(ne[P()])?k=!1:(R.push(ne[P()]),N.push(ne))}),k||g(N)}return k}function Ci(k){let R=k?k[P()]:g()[P()];return $().find(N=>N[P()]===R)}function io(k){!k||k.length===0||k.some(R=>typeof R!="object")||!g()||(v()?g().some(R=>!R||!R[P()]):!g()[P()])||(Array.isArray(g())?g(g().map(R=>Ci(R)||R)):g(Ci()||g()))}async function nr(k){const R=g()[k];g().length===1?g(void 0):g(g().filter(N=>N!==R)),u("clear",R)}function Ii(k){if(A())switch(k.stopPropagation(),k.key){case"Escape":k.preventDefault(),Ge();break;case"Enter":if(k.preventDefault(),F()){if(b(f).length===0)break;const R=b(f)[J()];if(g()&&!v()&&g()[P()]===R[P()]){Ge();break}else sr(b(f)[J()])}break;case"ArrowDown":k.preventDefault(),F()?fn(1):(F(!0),q(te,void 0));break;case"ArrowUp":k.preventDefault(),F()?fn(-1):(F(!0),q(te,void 0));break;case"Tab":if(F()&&A()){if(b(f).length===0||g()&&g()[P()]===b(f)[J()][P()])return Ge();k.preventDefault(),sr(b(f)[J()]),Ge()}break;case"Backspace":if(!v()||I().length>0)return;if(v()&&g()&&g().length>0){if(nr(b(te)!==void 0?b(te):g().length-1),b(te)===0||b(te)===void 0)break;q(te,g().length>b(te)?b(te)-1:void 0)}break;case"ArrowLeft":if(!g()||!v()||I().length>0)return;b(te)===void 0?q(te,g().length-1):g().length>b(te)&&b(te)!==0&&q(te,b(te)-1);break;case"ArrowRight":if(!g()||!v()||I().length>0||b(te)===void 0)return;b(te)===g().length-1?q(te,void 0):b(te)<g().length-1&&q(te,b(te)+1);break}}function rr(k){A()&&x()===document?.activeElement||(k&&u("focus",k),x()?.focus(),A(!0))}async function Li(k){lr||(F()||A())&&(u("blur",k),Ge(),A(!1),q(te,void 0),x()?.blur())}function lo(){if(!S()){if(I().length>0)return F(!0);F(!F())}}function ir(){u("clear",g()),g(void 0),Ge(),rr()}zl(()=>{F()&&A(!0),A()&&x()&&x().focus()});function so(k){if(k){I("");const R=Object.assign({},k);if(R.groupHeader&&!R.selectable)return;g(v()?g()?g().concat([R]):[R]:g(R)),setTimeout(()=>{yt()&&Ge(),q(te,void 0),u("change",g()),u("select",k)})}}function Ge(){tt()&&I(""),F(!1)}let oo=M(t,"ariaValues",8,k=>`Option ${k}, selected.`),ao=M(t,"ariaListOpen",8,(k,R)=>`You are currently focused on option ${k}. There are ${R} results available.`),co=M(t,"ariaFocused",8,()=>"Select is focused, type to refine list, press down to open the menu.");function uo(k){let R;return k&&g().length>0?R=g().map(N=>N[B()]).join(", "):R=g()[B()],oo()(R)}function fo(){if(!b(f)||b(f).length===0)return"";let k=b(f)[J()];if(F()&&k){let R=b(f)?b(f).length:0;return ao()(k[B()],R)}else return co()()}let Ee=ie(null),Oi;function Pi(){clearTimeout(Oi),Oi=setTimeout(()=>{lr=!1},100)}function ho(k){!F()&&!A()&&y()&&!y().contains(k.target)&&!b(Ee)?.contains(k.target)&&Li()}Nl(()=>{b(Ee)?.remove()});let lr=!1;function sr(k){!k||k.selectable===!1||so(k)}function Mi(k){lr||J(k)}function po(k){const{item:R,i:N}=k;if(R?.selectable!==!1){if(g()&&!v()&&g()[P()]===R[P()])return Ge();vo(R)&&(J(N),sr(R))}}function fn(k){if(b(f).filter(ne=>!Object.hasOwn(ne,"selectable")||ne.selectable===!0).length===0)return J(0);k>0&&J()===b(f).length-1?J(0):k<0&&J()===0?J(b(f).length-1):J(J()+k);const N=b(f)[J()];if(N&&N.selectable===!1){(k===1||k===-1)&&fn(k);return}}function Ni(k,R,N){if(!v())return R&&R[N]===k[N]}function go(k){return k===0}function vo(k){return k.groupHeader&&k.selectable||k.selectable||!k.hasOwnProperty("selectable")}const mo=zi,ko=zi;function zi(k){return{update(R){R.scroll&&(Pi(),k.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function bo(){const{width:k}=y().getBoundingClientRect();gn(Ee,b(Ee).style.width=Zs()?k+"px":"auto")}let Bt=ie({strategy:"absolute",placement:"bottom-start",middleware:[mf(js()),bf(),kf()],autoUpdate:!1});const[wo,xo,yo]=xf(b(Bt));let or=ie(!0);function _o(k,R){if(!k||!R)return q(or,!0);setTimeout(()=>{q(or,!1)},0)}j(()=>(C($()),C(g())),()=>{$(),g()&&Gs()}),j(()=>(C(Kn()),C(un())),()=>{(Kn()||!un())&&Xs()}),j(()=>C(v()),()=>{v()&&Qs()}),j(()=>(b(tr),C(v())),()=>{b(tr)&&!v()&&Js()}),j(()=>(C(v()),C(g())),()=>{v()&&g()&&g().length>1&&Ti()}),j(()=>C(g()),()=>{g()&&Ys()}),j(()=>(C(g()),C(v()),b(nt)),()=>{!g()&&v()&&b(nt)&&u("input",g())}),j(()=>(C(A()),C(x())),()=>{!A()&&x()&&Ge()}),j(()=>(C(I()),b(er)),()=>{I()!==b(er)&&to()}),j(()=>(C(p()),C(Q()),C(I()),C($()),C(v()),C(g()),C(P()),C(E()),C(B()),C(Be()),C(D())),()=>{q(f,p()({loadOptions:Q(),filterText:I(),items:$(),multiple:v(),value:g(),itemId:P(),groupBy:E(),label:B(),filterSelectedItems:Be(),itemFilter:D(),convertStringItemsToObjects:Ei,filterGroupedItems:Ai}))}),j(()=>(C(v()),C(F()),C(g()),b(f)),()=>{!v()&&F()&&g()&&b(f)&&Ks()}),j(()=>(C(F()),C(v())),()=>{F()&&v()&&J(0)}),j(()=>C(I()),()=>{I()&&J(0)}),j(()=>C(J()),()=>{eo(J())}),j(()=>(C(v()),C(g())),()=>{q(r,v()?g()&&g().length>0:g())}),j(()=>(b(r),C(I())),()=>{q(i,b(r)&&I().length>0)}),j(()=>(b(r),C(yi()),C(S()),C(_t())),()=>{q(l,b(r)&&yi()&&!S()&&!_t())}),j(()=>(C(O()),C(v()),C(L()),C(g())),()=>{q(s,O()&&v()||v()&&g()?.length===0?L():g()?"":L())}),j(()=>(C(g()),C(v())),()=>{q(o,g()?uo(v()):"")}),j(()=>(b(f),C(J()),C(A()),C(F())),()=>{q(c,fo({filteredItems:b(f),hoverItemIndex:J(),focused:A(),listOpen:F()}))}),j(()=>C($()),()=>{io($())}),j(()=>(C(v()),C(g()),C(P())),()=>{d(ro(v(),g(),P()))}),j(()=>(C(v()),b(nt),C(g())),()=>{!v()&&b(nt)&&!g()&&u("input",g())}),j(()=>(C(F()),b(f),C(v()),C(g())),()=>{F()&&b(f)&&!v()&&!g()&&Ri()}),j(()=>b(f),()=>{no(b(f))}),j(()=>(C(y()),C(Dt()),b(Bt)),()=>{y()&&Dt()&&yo(Object.assign(b(Bt),Dt()))}),j(()=>b(Ee),()=>{q(a,!!b(Ee))}),j(()=>(b(Ee),C(F())),()=>{_o(b(Ee),F())}),j(()=>(C(F()),C(y()),b(Ee)),()=>{F()&&y()&&b(Ee)&&bo()}),j(()=>C(J()),()=>{q(h,J())}),j(()=>(C(x()),C(F()),C(A())),()=>{x()&&F()&&!A()&&rr()}),j(()=>(C(y()),C(Dt())),()=>{y()&&Dt()?.autoUpdate===void 0&&gn(Bt,b(Bt).autoUpdate=!0)}),Zl();var So={getFilteredItems:xi,handleClear:ir};ii();var rt=qf();ce("click",ji,ho),ce("keydown",ji,Ii);let Di;var Bi=W(rt);{var Eo=k=>{var R=Lf();let N;var ne=W(R);{var de=X=>{var ue=He(),Fe=xe(ue);me(Fe,t,"list-prepend",{},null),H(X,ue)};pe(ne,X=>{le(()=>n["list-prepend"])&&X(de)})}var se=ee(ne,2);{var Xe=X=>{var ue=He(),Fe=xe(ue);me(Fe,t,"list",{get filteredItems(){return b(f)}},null),H(X,ue)},At=X=>{var ue=He(),Fe=xe(ue);{var Ht=it=>{var ct=He(),Oe=xe(ct);Pr(Oe,1,()=>b(f),Ui,(Pe,ge,Ae)=>{var Ye=Cf(),ut=W(Ye);let hn;var zo=W(ut);me(zo,t,"item",{get item(){return b(ge)},index:Ae},Qe=>{var pn=pr();be(()=>Ct(pn,(b(ge),C(B()),le(()=>b(ge)?.[B()])))),H(Qe,pn)}),Z(ut),mn(ut,(Qe,pn)=>mo?.(Qe),()=>({scroll:Ni(b(ge),g(),P()),listDom:b(a)})),mn(ut,(Qe,pn)=>ko?.(Qe),()=>({scroll:b(h)===Ae,listDom:b(a)})),Z(Ye),be(Qe=>hn=pt(ut,1,"item svelte-1ul7oo4",null,hn,Qe),[()=>({"list-group-title":b(ge).groupHeader,active:Ni(b(ge),g(),P()),first:go(Ae),hover:J()===Ae,"group-item":b(ge).groupItem,"not-selectable":b(ge)?.selectable===!1})]),ce("mouseover",Ye,()=>Mi(Ae)),ce("focus",Ye,()=>Mi(Ae)),ce("click",Ye,Rt(()=>po({item:b(ge),i:Ae}))),ce("keydown",Ye,ft(Rt(function(Qe){bn.call(this,t,Qe)}))),H(Pe,Ye)}),H(it,ct)},hr=it=>{var ct=He(),Oe=xe(ct);{var Pe=ge=>{var Ae=He(),Ye=xe(Ae);me(Ye,t,"empty",{},ut=>{var hn=If();H(ut,hn)}),H(ge,Ae)};pe(Oe,ge=>{Ws()||ge(Pe)},!0)}H(it,ct)};pe(Fe,it=>{b(f),le(()=>b(f).length>0)?it(Ht):it(hr,!1)},!0)}H(X,ue)};pe(se,X=>{le(()=>n.list)?X(Xe):X(At,!1)})}var Ft=ee(se,2);{var at=X=>{var ue=He(),Fe=xe(ue);me(Fe,t,"list-append",{},null),H(X,ue)};pe(Ft,X=>{le(()=>n["list-append"])&&X(at)})}Z(R),mn(R,X=>xo?.(X)),mr(R,X=>q(Ee,X),()=>b(Ee)),lt(()=>ce("scroll",R,Pi)),lt(()=>ce("pointerup",R,ft(Rt(function(X){bn.call(this,t,X)})))),lt(()=>ce("mousedown",R,ft(Rt(function(X){bn.call(this,t,X)})))),be(()=>N=pt(R,1,"svelte-select-list svelte-1ul7oo4",null,N,{prefloat:b(or)})),H(k,R)};pe(Bi,k=>{F()&&k(Eo)})}var ar=ee(Bi,2),Ao=W(ar);{var Ro=k=>{var R=Of(),N=xe(R),ne=W(N,!0);Z(N);var de=ee(N,2),se=W(de,!0);Z(de),be(()=>{Ct(ne,b(o)),Ct(se,b(c))}),H(k,R)};pe(Ao,k=>{A()&&k(Ro)})}Z(ar);var cr=ee(ar,2),To=W(cr);me(To,t,"prepend",{},null),Z(cr);var ur=ee(cr,2),Fi=W(ur);{var Co=k=>{var R=He(),N=xe(R);{var ne=se=>{var Xe=He(),At=xe(Xe);Pr(At,1,g,Ui,(Ft,at,X)=>{var ue=Mf();let Fe;var Ht=W(ue),hr=W(Ht);me(hr,t,"selection",{get selection(){return b(at)},index:X},Oe=>{var Pe=pr();be(()=>Ct(Pe,(b(at),C(B()),le(()=>b(at)[B()])))),H(Oe,Pe)}),Z(Ht);var it=ee(Ht,2);{var ct=Oe=>{var Pe=Pf(),ge=W(Pe);me(ge,t,"multi-clear-icon",{},Ae=>{Lr(Ae)}),Z(Pe),ce("pointerup",Pe,ft(Rt(()=>nr(X)))),H(Oe,Pe)};pe(it,Oe=>{!S()&&!T()&&Lr&&Oe(ct)})}Z(ue),be(()=>Fe=pt(ue,1,"multi-item svelte-1ul7oo4",null,Fe,{active:b(te)===X,disabled:S()})),ce("click",ue,ft(()=>T()?nr(X):{})),ce("keydown",ue,ft(Rt(function(Oe){bn.call(this,t,Oe)}))),H(Ft,ue)}),H(se,Xe)},de=se=>{var Xe=Nf();let At;var Ft=W(Xe);me(Ft,t,"selection",{get selection(){return g()}},at=>{var X=pr();be(()=>Ct(X,(C(g()),C(B()),le(()=>g()[B()])))),H(at,X)}),Z(Xe),be(()=>At=pt(Xe,1,"selected-item svelte-1ul7oo4",null,At,{"hide-selected-item":b(i)})),H(se,Xe)};pe(N,se=>{v()?se(ne):se(de,!1)})}H(k,R)};pe(Fi,k=>{b(r)&&k(Co)})}var Et=ee(Fi,2);za(Et,()=>({readOnly:!un(),...b(St),placeholder:b(s),style:qs(),disabled:S()}),void 0,void 0,void 0,"svelte-1ul7oo4",!0),mr(Et,k=>x(k),()=>x()),Z(ur);var fr=ee(ur,2),Hi=W(fr);{var Io=k=>{var R=zf(),N=W(R);me(N,t,"loading-icon",{},ne=>{Tf(ne)}),Z(R),H(k,R)};pe(Hi,k=>{_t()&&k(Io)})}var qi=ee(Hi,2);{var Lo=k=>{var R=Df(),N=W(R);me(N,t,"clear-icon",{},ne=>{Lr(ne)}),Z(R),ce("click",R,ir),H(k,R)};pe(qi,k=>{b(l)&&k(Lo)})}var Oo=ee(qi,2);{var Po=k=>{var R=Bf(),N=W(R);me(N,t,"chevron-icon",{get listOpen(){return F()}},ne=>{Ef(ne)}),Z(R),H(k,R)};pe(Oo,k=>{Si()&&k(Po)})}Z(fr);var Vi=ee(fr,2);me(Vi,t,"input-hidden",{get value(){return g()}},k=>{var R=Ff();Ql(R),be(N=>{we(R,"name",_()),Pa(R,N)},[()=>(C(g()),le(()=>g()?JSON.stringify(g()):null))]),H(k,R)});var Mo=ee(Vi,2);{var No=k=>{var R=He(),N=xe(R);me(N,t,"required",{get value(){return g()}},ne=>{var de=Hf();H(ne,de)}),H(k,R)};pe(Mo,k=>{C(Se()),C(g()),le(()=>Se()&&(!g()||g().length===0))&&k(No)})}return Z(rt),lt(()=>ce("pointerup",rt,ft(lo))),mr(rt,k=>y(k),()=>y()),mn(rt,k=>wo?.(k)),be(()=>{Di=pt(rt,1,`svelte-select ${Us()??""}`,"svelte-1ul7oo4",Di,{multi:v(),disabled:S(),focused:A(),"list-open":F(),"show-chevron":Si(),error:Le()}),Gl(rt,Ue())}),ce("keydown",Et,Ii),ce("blur",Et,Li),ce("focus",Et,rr),Da(Et,I),H(e,rt),Ji(t,"getFilteredItems",xi),Ji(t,"handleClear",ir),Wn(So)}var $f=he('<div id="maparea" class="svelte-p5xvfo"><div id="selector" class="select-theme svelte-p5xvfo"><label for="country-select" class="svelte-p5xvfo">Select a country:</label> <!></div> <div id="map" class="svelte-p5xvfo"><!></div></div> <div id="info" class="svelte-p5xvfo"><!></div>',1),Wf=he('<div class="layout svelte-p5xvfo"><!></div>');function Kf(e,t){$n(t,!0);let n=gr(new Map),r=vr(gr([])),i=vr(gr([])),l=vr("Canada"),s=[];async function o(){try{(await Ya("./data/country-policies.csv")).forEach(d=>{n.set(d.country,d)}),q(r,[...n.keys()],!0),b(r).forEach(d=>s.push({value:d,label:d}))}catch(u){console.error("Error loading CSV:",u)}}async function c(){try{q(i,await Ja("./data/countries_simplified.geojson"),!0)}catch(u){console.error("Error loading CSV:",u)}}zl(()=>{o(),c()});var f=Wf(),a=W(f);{var h=u=>{var d=$f(),p=xe(d),m=W(p),w=ee(W(m),2);Vf(w,{class:"country-select",name:"country-select",get items(){return s},searchable:!1,clearable:!1,containerStyles:"font-family: Inter !important;",showChevron:!0,get value(){return b(l)},set value(T){q(l,T,!0)}}),Z(m);var _=ee(m,2),y=W(_);Hc(y,{get mapData(){return b(i)},get countriesList(){return b(r)},get selectedCountry(){return b(l)},set selectedCountry(T){q(l,T,!0)}}),Z(_),Z(p);var x=ee(p,2),v=W(x);Au(v,{get selectedCountry(){return b(l)},get policyData(){return n}}),Z(x),H(u,d)};pe(a,u=>{b(i).features&&n.size>0&&s.length>0&&u(h)})}Z(f),H(e,f),Wn()}export{Kf as component,Jf as universal};
